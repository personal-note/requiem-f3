namespace SpriteKind {
    export const Bolt = SpriteKind.create()
    export const Gooper = SpriteKind.create()
    export const Charger = SpriteKind.create()
    export const Drone = SpriteKind.create()
    export const EMPI = SpriteKind.create()
    export const F1 = SpriteKind.create()
    export const F2 = SpriteKind.create()
    export const F3 = SpriteKind.create()
    export const F4 = SpriteKind.create()
    export const F5 = SpriteKind.create()
    export const Boss = SpriteKind.create()
    export const bullet = SpriteKind.create()
    export const boom = SpriteKind.create()
    export const cannon = SpriteKind.create()
    export const combatform = SpriteKind.create()
    export const plate = SpriteKind.create()
}
namespace StatusBarKind {
    export const shield = StatusBarKind.create()
    export const power = StatusBarKind.create()
}
function spawnboss () {
	
}
function spawnmboss3 () {
	
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile6`, function (sprite, location) {
    controller.moveSprite(player1, 0, 0)
    story.startCutscene(function () {
        Notification.notify("oops", 50, img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . 5 5 5 5 5 5 . . . . . 
            . . . . 6 9 6 9 6 9 6 9 . . . . 
            . . . 6 9 6 9 6 9 6 9 6 9 . . . 
            . . . 5 5 5 5 5 5 5 5 5 5 . . . 
            . . . 3 3 3 3 3 3 3 3 3 3 . . . 
            . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
            . . 4 7 4 7 4 7 4 7 4 7 4 7 . . 
            . . 7 4 7 4 7 4 7 4 7 4 7 4 . . 
            . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
            . . 9 9 9 9 9 9 9 9 9 9 9 9 . . 
            . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
            . . . 3 a 3 a 3 a 3 a 3 a . . . 
            . . . . 3 a 3 a 3 a 3 a . . . . 
            . . . . . 5 5 5 5 5 5 . . . . . 
            `)
        playerhealth.value = 0
    })
    tiles.setTileAt(location, assets.tile`transparency16`)
})
function spawnplayer1 () {
    player1 = sprites.create(img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        .........c44444..........
        ........c45e111..........
        .......f54e1111..........
        .......ff4e5515..........
        ........cc4e151..........
        .........cc444c..........
        .......1bfcccff..........
        ......bb1bdccfff..f......
        .....1bbb1ffddffffff.....
        .....b1bbffffffffff......
        ......b1ccbccfffcbff22222
        ......cccbbcddffcbc......
        .......cbbbcddc.bcc......
        ........ccd5dcc..........
        ........5ccccc5..........
        .......fbbbbbbb..........
        ......fddddbbddd.........
        .....fdddcccccddd........
        ......d5cc...cc5dd.......
        ......ccc.....cccc.......
        ......bfb......bbf.......
        ......bfb......bbf.......
        .....bbbb......bbbb......
        .....cccc......cccc......
        `, SpriteKind.Player)
    controller.moveSprite(player1, 120, 0)
    scene.cameraFollowSprite(player1)
    playerhealth = statusbars.create(20, 4, StatusBarKind.Health)
    playerhealth.attachToSprite(player1)
    playerhealth.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    playerhealth.setLabel("HP")
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        ......fbbbbbbb...........
        .....fddddbbddd..........
        ....fdddcccccddd.........
        .....d5cc...cc5dd........
        .....ccc.....cccc........
        .....bfb......bbf........
        .....bfb......bbf........
        ....bbbb......bbbb.......
        ....cccc......cccc.......
        `],
    500,
    character.rule(Predicate.NotMoving, Predicate.FacingRight)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbbf......
        ..........dddbbddddf.....
        .........dddcccccdddf....
        ........dd5cc...cc5d.....
        ........cccc.....ccc.....
        ........fbb......bfb.....
        ........fbb......bfb.....
        .......bbbb......bbbb....
        .......cccc......cccc....
        `],
    500,
    character.rule(Predicate.NotMoving, Predicate.FacingLeft)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......ffdddbbd...........
        ......ffddcccd...........
        ......ffd5ccc5...........
        .......ccccccc...........
        ........bbbbf............
        .........bbfb............
        ........bbbbbb...........
        ........cccccc...........
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `],
    100,
    character.rule(Predicate.MovingRight, Predicate.Moving)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........dbbdddff......
        ...........dcccddff......
        ...........5ccc5dff......
        ...........ccccccc.......
        ............fbbbb........
        ............bfbb.........
        ...........bbbbbb........
        ...........cccccc........
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `],
    100,
    character.rule(Predicate.MovingLeft, Predicate.Moving)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        .........................
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......cdddddc...........
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbdd...........
        ......fddccccd...........
        ......fd5c.cc5...........
        .......ccc.ccc...........
        .......bbf.bbf...........
        .......bbfbbf............
        .......bbbbbb............
        .......cccccc............
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ........c44444...........
        .......c45e111...........
        ......f54e1111...........
        ......ff4e5515...........
        .......cc4e151...........
        ........cc444c...........
        ......1bfcccff...........
        .....bb1bdccfff..f.......
        ....1bbb1ffddffffff......
        ....b1bbffffffffff.......
        .....b1ccbccfffcbff222222
        .....cccbbcddffcbc.......
        ......cbbbcddc.bcc.......
        .......ccd5dcc...........
        .......5ccccc5...........
        .......bbbbbbb...........
        ......fdddbbddd..........
        ......fddccccddd.........
        ......fd5c..cc5dd........
        .......ccc...cccc........
        .......bfb....bbf........
        .......bfb....bbf........
        .......bbb....bbbb.......
        .......ccc....cccc.......
        `],
    200,
    character.rule(Predicate.Moving, Predicate.FacingRight)
    )
    character.loopFrames(
    player1,
    [img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        .........................
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........cdddddc.......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ...........ddbbdddf......
        ...........dccccddf......
        ...........5cc.c5df......
        ...........ccc.ccc.......
        ...........fbb.fbb.......
        ............fbbfbb.......
        ............bbbbbb.......
        ............cccccc.......
        `,img`
        .........................
        .........................
        .........................
        .........................
        .........................
        .........................
        ...........44444c........
        ...........111e54c.......
        ...........1111e45f......
        ...........5155e4ff......
        ...........151e4cc.......
        ...........c444cc........
        ...........ffcccfb1......
        .......f..fffccdb1bb.....
        ......ffffffddff1bbb1....
        .......ffffffffffbb1b....
        222222ffbcfffccbcc1b.....
        .......cbcffddcbbccc.....
        .......ccb.cddcbbbc......
        ...........ccd5dcc.......
        ...........5ccccc5.......
        ...........bbbbbbb.......
        ..........dddbbdddf......
        .........dddccccddf......
        ........dd5cc..c5df......
        ........cccc...ccc.......
        ........fbb....bfb.......
        ........fbb....bfb.......
        .......bbbb....bbb.......
        .......cccc....ccc.......
        `],
    200,
    character.rule(Predicate.Moving, Predicate.FacingLeft)
    )
}
function spawnmboss2 () {
	
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (canfire) {
        canfire = false
        ammo += -8
        ammobar.value += -8
        if (ammo > 0) {
            if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingLeft))) {
                animation.runImageAnimation(
                player1,
                [img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...5.......151e4cc.......
                    ...........c444cc........
                    ..4.5......ffcccfb1......
                    ....45.f..fffccdb1bb.....
                    .....4ffffffddff1bbb1....
                    .....5.ffffffffffbb1b....
                    222422ffbcfffccbcc1b.....
                    ....5..cbcffddcbbccc.....
                    ..5....ccb.cddcbbbc......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbbf......
                    ..........dddbbddddf.....
                    .........dddcccccdddf....
                    ........dd5cc...cc5d.....
                    ........cccc.....ccc.....
                    ........fbb......bfb.....
                    ........fbb......bfb.....
                    .......bbbb......bbbb....
                    .......cccc......cccc....
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    .....5.....151e4cc.......
                    ...5.......c444cc........
                    ..4..4.....cffccfb1......
                    ......5.f..fffcdb1bb.....
                    ......4ffffffddf1bbb1....
                    .....4..fffffffffbb1b....
                    2224252ffbcfffccbc1b.....
                    ........cbcffddcbccc.....
                    ....5...ccbcdddcbbc......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbbf......
                    ..........dddbbddddf.....
                    .........dddcccccdddf....
                    ........dd5cc...cc5d.....
                    ........cccc.....ccc.....
                    ........fbb......bfb.....
                    ........fbb......bfb.....
                    .......bbbb......bbbb....
                    .......cccc......cccc....
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...5.......151e4cc.......
                    .....4.....c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    ..4....ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    ....5..cbcffddcbbccc.....
                    ..5....ccb.cddcbbbc......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbbf......
                    ..........dddbbddddf.....
                    .........dddcccccdddf....
                    ........dd5cc...cc5d.....
                    ........cccc.....ccc.....
                    ........fbb......bfb.....
                    ........fbb......bfb.....
                    .......bbbb......bbbb....
                    .......cccc......cccc....
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    ...........c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffcbfffccbcc1b.....
                    ........cbffddcbbccc.....
                    ........ccbcddcbbbc......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbbf......
                    ..........dddbbddddf.....
                    .........dddcccccdddf....
                    ........dd5cc...cc5d.....
                    ........cccc.....ccc.....
                    ........fbb......bfb.....
                    ........fbb......bfb.....
                    .......bbbb......bbbb....
                    .......cccc......cccc....
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    ...........c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    .......cbcffddcbbccc.....
                    .......ccb.cddcbbbc......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbbf......
                    ..........dddbbddddf.....
                    .........dddcccccdddf....
                    ........dd5cc...cc5d.....
                    ........cccc.....ccc.....
                    ........fbb......bfb.....
                    ........fbb......bfb.....
                    .......bbbb......bbbb....
                    .......cccc......cccc....
                    `],
                100,
                false
                )
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, 0)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, -10)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, 10)
                shell.setKind(SpriteKind.bullet)
            } else if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingRight))) {
                animation.runImageAnimation(
                player1,
                [img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151.......5...
                    ........cc444c...........
                    ......1bfcccff......5.4..
                    .....bb1bdccfff..f.54....
                    ....1bbb1ffddffffff4.....
                    ....b1bbffffffffff.5.....
                    .....b1ccbccfffcbff224222
                    .....cccbbcddffcbc..5....
                    ......cbbbcddc.bcc....5..
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    ......fbbbbbbb...........
                    .....fddddbbddd..........
                    ....fdddcccccddd.........
                    .....d5cc...cc5dd........
                    .....ccc.....cccc........
                    .....bfb......bbf........
                    .....bfb......bbf........
                    ....bbbb......bbbb.......
                    ....cccc......cccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151.....5.....
                    ........cc444c.......5...
                    ......1bfccffc.....4..4..
                    .....bb1bdcfff..f.5......
                    ....1bbb1fddffffff4......
                    ....b1bbfffffffff..4.....
                    .....b1cbccfffcbff2524222
                    .....cccbcddffcbc........
                    ......cbbcdddcbcc...5....
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    ......fbbbbbbb...........
                    .....fddddbbddd..........
                    ....fdddcccccddd.........
                    .....d5cc...cc5dd........
                    .....ccc.....cccc........
                    .....bfb......bbf........
                    .....bfb......bbf........
                    ....bbbb......bbbb.......
                    ....cccc......cccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151.......5...
                    ........cc444c.....4.....
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff....4..
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc..5....
                    ......cbbbcddc.bcc....5..
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    ......fbbbbbbb...........
                    .....fddddbbddd..........
                    ....fdddcccccddd.........
                    .....d5cc...cc5dd........
                    .....ccc.....cccc........
                    .....bfb......bbf........
                    .....bfb......bbf........
                    ....bbbb......bbbb.......
                    ....cccc......cccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c...........
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff.......
                    .....b1ccbccfffbcff222222
                    .....cccbbcddffbc........
                    ......cbbbcddcbcc........
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    ......fbbbbbbb...........
                    .....fddddbbddd..........
                    ....fdddcccccddd.........
                    .....d5cc...cc5dd........
                    .....ccc.....cccc........
                    .....bfb......bbf........
                    .....bfb......bbf........
                    ....bbbb......bbbb.......
                    ....cccc......cccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c...........
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff.......
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc.......
                    ......cbbbcddc.bcc.......
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    ......fbbbbbbb...........
                    .....fddddbbddd..........
                    ....fdddcccccddd.........
                    .....d5cc...cc5dd........
                    .....ccc.....cccc........
                    .....bfb......bbf........
                    .....bfb......bbf........
                    ....bbbb......bbbb.......
                    ....cccc......cccc.......
                    `],
                100,
                false
                )
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, 0)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, 10)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, -10)
                shell.setKind(SpriteKind.bullet)
            } else if (character.matchesRule(player1, character.rule(Predicate.MovingRight))) {
                animation.runImageAnimation(
                player1,
                [img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515........4..
                    .......cc4e151...........
                    ........cc444c.......5...
                    ......1bfcccff.....5.....
                    .....bb1bdccfff..f.4...4.
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff..5....
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc.......
                    ......cbbbcddc.bcc....4..
                    .......ccd5dcc.....5.....
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbddd..........
                    ......fddccccddd.........
                    ......fd5c..cc5dd........
                    .......ccc...cccc........
                    .......bfb....bbf........
                    .......bfb....bbf........
                    .......bbb....bbbb.......
                    .......ccc....cccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151......5....
                    ........cc444c.......4...
                    ......1bfccffc...........
                    .....bb1bdcfff..f.5......
                    ....1bbb1fddffffff.......
                    ....b1bbfffffffff...4....
                    .....b1cbccfffcbff2222222
                    .....cccbcddffcbc..5.....
                    ......cbbcdddcbcc....4...
                    .......cdddddc...........
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbdd...........
                    ......fddccccd...........
                    ......fd5c.cc5...........
                    .......ccc.ccc...........
                    .......bbf.bbf...........
                    .......bbfbbf............
                    .......bbbbbb............
                    .......cccccc............
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151........5..
                    ........cc444c...........
                    ......1bfcccff.....5.....
                    .....bb1bdccfff..f....4..
                    ....1bbb1ffddffffff.4....
                    ....b1bbffffffffff.......
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc.4.....
                    ......cbbbcddc.bcc...5...
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......ffdddbbd...........
                    ......ffddcccd...........
                    ......ffd5ccc5...........
                    .......ccccccc...........
                    ........bbbbf............
                    .........bbfb............
                    ........bbbbbb...........
                    ........cccccc...........
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c...........
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff.......
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc.......
                    ......cbbbcddc.bcc.......
                    .......cdddddc...........
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbdd...........
                    ......fddccccd...........
                    ......fd5c.cc5...........
                    .......ccc.ccc...........
                    .......bbf.bbf...........
                    .......bbfbbf............
                    .......bbbbbb............
                    .......cccccc............
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c...........
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff.......
                    .....b1ccbccfffbcff222222
                    .....cccbbcddffbc........
                    ......cbbbcddcbcc........
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbddd..........
                    ......fddccccddd.........
                    ......fd5c..cc5dd........
                    .......ccc...cccc........
                    .......bfb....bbf........
                    .......bfb....bbf........
                    .......bbb....bbbb.......
                    .......ccc....cccc.......
                    `],
                100,
                false
                )
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, 0)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, 10)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, -10)
                shell.setKind(SpriteKind.bullet)
            } else if (character.matchesRule(player1, character.rule(Predicate.MovingLeft))) {
                animation.runImageAnimation(
                player1,
                [img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ..4........5155e4ff......
                    ...........151e4cc.......
                    ...5.......c444cc........
                    .....5.....ffcccfb1......
                    .4...4.f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    ....5..ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    .......cbcffddcbbccc.....
                    ..4....ccb.cddcbbbc......
                    .....5.....ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ..........dddbbdddf......
                    .........dddccccddf......
                    ........dd5cc..c5df......
                    ........cccc...ccc.......
                    ........fbb....bfb.......
                    ........fbb....bfb.......
                    .......bbbb....bbb.......
                    .......cccc....ccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ....5......151e4cc.......
                    ...4.......c444cc........
                    ...........cffccfb1......
                    ......5.f..fffcdb1bb.....
                    .......ffffffddf1bbb1....
                    ....4...fffffffffbb1b....
                    2222222ffbcfffccbc1b.....
                    .....5..cbcffddcbccc.....
                    ...4....ccbcdddcbbc......
                    ...........cdddddc.......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........ddbbdddf......
                    ...........dccccddf......
                    ...........5cc.c5df......
                    ...........ccc.ccc.......
                    ...........fbb.fbb.......
                    ............fbbfbb.......
                    ............bbbbbb.......
                    ............cccccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ..5........151e4cc.......
                    ...........c444cc........
                    .....5.....ffcccfb1......
                    ..4....f..fffccdb1bb.....
                    ....4.ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    .....4.cbcffddcbbccc.....
                    ...5...ccb.cddcbbbc......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........dbbdddff......
                    ...........dcccddff......
                    ...........5ccc5dff......
                    ...........ccccccc.......
                    ............fbbbb........
                    ............bfbb.........
                    ...........bbbbbb........
                    ...........cccccc........
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    ...........c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    .......cbcffddcbbccc.....
                    .......ccb.cddcbbbc......
                    ...........cdddddc.......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........ddbbdddf......
                    ...........dccccddf......
                    ...........5cc.c5df......
                    ...........ccc.ccc.......
                    ...........fbb.fbb.......
                    ............fbbfbb.......
                    ............bbbbbb.......
                    ............cccccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    ...........c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffcbfffccbcc1b.....
                    ........cbffddcbbccc.....
                    ........ccbcddcbbbc......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ..........dddbbdddf......
                    .........dddccccddf......
                    ........dd5cc..c5df......
                    ........cccc...ccc.......
                    ........fbb....bfb.......
                    ........fbb....bfb.......
                    .......bbbb....bbb.......
                    .......cccc....ccc.......
                    `],
                100,
                false
                )
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, 0)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, -10)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, 10)
                shell.setKind(SpriteKind.bullet)
            } else if (character.matchesRule(player1, character.rule(Predicate.Moving, Predicate.FacingLeft))) {
                animation.runImageAnimation(
                player1,
                [img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    .....5.....151e4cc.......
                    ..4........c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    .5....ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    ...4...cbcffddcbbccc.....
                    .......ccb.cddcbbbc......
                    .....5.....cdddddc.......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........ddbbdddf......
                    ...........dccccddf......
                    ...........5cc.c5df......
                    ...........ccc.ccc.......
                    ...........fbb.fbb.......
                    ............fbbfbb.......
                    ............bbbbbb.......
                    ............cccccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    ....4......c444cc........
                    ...5.......cffccfb1......
                    ......5.f..fffcdb1bb.....
                    ..4....ffffffddf1bbb1....
                    ........fffffffffbb1b....
                    2222222ffbcfffccbc1b.....
                    ...4....cbcffddcbccc.....
                    .....5..ccbcdddcbbc......
                    ...........cdddddc.......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........ddbbdddf......
                    ...........dccccddf......
                    ...........5cc.c5df......
                    ...........ccc.ccc.......
                    ...........fbb.fbb.......
                    ............fbbfbb.......
                    ............bbbbbb.......
                    ............cccccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    .....5.....c444cc........
                    ...4.......ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    ..5....ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    .......cbcffddcbbccc.....
                    ....4..ccb.cddcbbbc......
                    .....5.....cdddddc.......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........ddbbdddf......
                    ...........dccccddf......
                    ...........5cc.c5df......
                    ...........ccc.ccc.......
                    ...........fbb.fbb.......
                    ............fbbfbb.......
                    ............bbbbbb.......
                    ............cccccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    ...........c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffcbfffccbcc1b.....
                    ........cbffddcbbccc.....
                    ........ccbcddcbbbc......
                    ...........cdddddc.......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........ddbbdddf......
                    ...........dccccddf......
                    ...........5cc.c5df......
                    ...........ccc.ccc.......
                    ...........fbb.fbb.......
                    ............fbbfbb.......
                    ............bbbbbb.......
                    ............cccccc.......
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ...........44444c........
                    ...........111e54c.......
                    ...........1111e45f......
                    ...........5155e4ff......
                    ...........151e4cc.......
                    ...........c444cc........
                    ...........ffcccfb1......
                    .......f..fffccdb1bb.....
                    ......ffffffddff1bbb1....
                    .......ffffffffffbb1b....
                    222222ffbcfffccbcc1b.....
                    .......cbcffddcbbccc.....
                    .......ccb.cddcbbbc......
                    ...........cdddddc.......
                    ...........ccd5dcc.......
                    ...........5ccccc5.......
                    ...........bbbbbbb.......
                    ...........ddbbdddf......
                    ...........dccccddf......
                    ...........5cc.c5df......
                    ...........ccc.ccc.......
                    ...........fbb.fbb.......
                    ............fbbfbb.......
                    ............bbbbbb.......
                    ............cccccc.......
                    `],
                100,
                false
                )
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, 0)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, 10)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, -150, -10)
                shell.setKind(SpriteKind.bullet)
            } else {
                animation.runImageAnimation(
                player1,
                [img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151.....5.....
                    ........cc444c........4..
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff....5.
                    ....b1bbffffffffff.......
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc...4...
                    ......cbbbcddc.bcc.......
                    .......cdddddc.....5.....
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbdd...........
                    ......fddccccd...........
                    ......fd5c.cc5...........
                    .......ccc.ccc...........
                    .......bbf.bbf...........
                    .......bbfbbf............
                    .......bbbbbb............
                    .......cccccc............
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c......4....
                    ......1bfccffc.......5...
                    .....bb1bdcfff..f.5......
                    ....1bbb1fddffffff....4..
                    ....b1bbfffffffff........
                    .....b1cbccfffcbff2222222
                    .....cccbcddffcbc....4...
                    ......cbbcdddcbcc..5.....
                    .......cdddddc...........
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbdd...........
                    ......fddccccd...........
                    ......fd5c.cc5...........
                    .......ccc.ccc...........
                    .......bbf.bbf...........
                    .......bbfbbf............
                    .......bbbbbb............
                    .......cccccc............
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c.....5.....
                    ......1bfcccff.......4...
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff....5..
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc.......
                    ......cbbbcddc.bcc..4....
                    .......cdddddc.....5.....
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbdd...........
                    ......fddccccd...........
                    ......fd5c.cc5...........
                    .......ccc.ccc...........
                    .......bbf.bbf...........
                    .......bbfbbf............
                    .......bbbbbb............
                    .......cccccc............
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c...........
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff.......
                    .....b1ccbccfffbcff222222
                    .....cccbbcddffbc........
                    ......cbbbcddcbcc........
                    .......cdddddc...........
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbdd...........
                    ......fddccccd...........
                    ......fd5c.cc5...........
                    .......ccc.ccc...........
                    .......bbf.bbf...........
                    .......bbfbbf............
                    .......bbbbbb............
                    .......cccccc............
                    `,img`
                    .........................
                    .........................
                    .........................
                    .........................
                    .........................
                    ........c44444...........
                    .......c45e111...........
                    ......f54e1111...........
                    ......ff4e5515...........
                    .......cc4e151...........
                    ........cc444c...........
                    ......1bfcccff...........
                    .....bb1bdccfff..f.......
                    ....1bbb1ffddffffff......
                    ....b1bbffffffffff.......
                    .....b1ccbccfffcbff222222
                    .....cccbbcddffcbc.......
                    ......cbbbcddc.bcc.......
                    .......cdddddc...........
                    .......ccd5dcc...........
                    .......5ccccc5...........
                    .......bbbbbbb...........
                    ......fdddbbdd...........
                    ......fddccccd...........
                    ......fd5c.cc5...........
                    .......ccc.ccc...........
                    .......bbf.bbf...........
                    .......bbfbbf............
                    .......bbbbbb............
                    .......cccccc............
                    `],
                100,
                false
                )
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, 0)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, 10)
                shell = sprites.createProjectileFromSprite(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 5 . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `, player1, 150, -10)
                shell.setKind(SpriteKind.bullet)
            }
        }
        timer.after(cooldown1, function () {
            canfire = true
        })
    }
})
sprites.onOverlap(SpriteKind.boom, SpriteKind.Bolt, function (sprite, otherSprite) {
    sprite.destroy(effects.fire, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -100
    info.changeScoreBy(5)
})
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Percentage, 25, function (status) {
    if (player1.vy == 0 && controller.A.isPressed()) {
        player1.vy = -150
    }
    controller.moveSprite(player1, 80, 0)
})
function spawncombat () {
    for (let value of tiles.getTilesByType(assets.tile`myTile4`)) {
        combat = sprites.create(img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            ........76.dd777dd..7776.
            ........76.dd7dddd..7776.
            .......776.ddddddd..7776.
            ...7777766.bbbdddd..7776.
            ..777766..bbbbbbddd.7776.
            ..7776....b7bbbbbbb.7776.
            .7776...6bb7bb.bbbbb..76.
            .776...67b7bb...bbbb.....
            .776..677bbbb...77bb.....
            ..776677.bbb.....7777....
            ..77777..ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `, SpriteKind.combatform)
        tiles.placeOnRandomTile(combat, assets.tile`myTile4`)
        tiles.setTileAt(value, assets.tile`transparency16`)
        statusbar = statusbars.create(20, 4, StatusBarKind.EnemyHealth)
        statusbar.attachToSprite(combat)
    }
}
sprites.onOverlap(SpriteKind.boom, SpriteKind.Drone, function (sprite, otherSprite) {
    sprite.destroy(effects.fire, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -100
    info.changeScoreBy(5)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (player1.vy == 0) {
        player1.vy = -210
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile7`, function (sprite, location) {
    level += 1
    startlevel()
    spawncombat()
    spawndrone()
    spawnbolt()
})
function rocket_bar () {
    mag = 5
    rocketbar = statusbars.create(40, 4, StatusBarKind.power)
    rocketbar.value = 100
    rocketbar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    rocketbar.setOffsetPadding(0, 15)
    rocketbar.setColor(9, 12, 6)
    rocketbar.positionDirection(CollisionDirection.Top)
    rocketbar.setLabel("RPG")
    mag = 100
}
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.LTE, statusbars.ComparisonType.Percentage, 50, function (status) {
    if (player1.vy == 0 && controller.A.isPressed()) {
        player1.vy = -180
    }
    controller.moveSprite(player1, 100, 0)
})
function spawnbolt () {
    for (let value of tiles.getTilesByType(assets.tile`myTile9`)) {
        bolter = sprites.create(img`
            .....................................
            ..........22.........................
            .........66..........................
            ......77677277.......................
            ....7666777bbbb777bbbbb..............
            ....6666777bbbbb777bbbbbb............
            ...661667766bbbbb77bbbbbbbbb.........
            ...661667766bbbbb77bbbbbbbbbb........
            ...76166777667bbbb7bbbbb7bbcc........
            ....6667777.66bbbbbbbbb77bcccc.......
            ..666........7bbbbbbbb77bbcccccc.....
            .66.........77bbbbb.b77bbccccccccc...
            26.........7777bbbc.....bcccccccccc..
            2.2.......77777776.......fffcccccccc.
            ........777777766.........fffffcccccc
            .......777777666............ffffccccc
            `, SpriteKind.Bolt)
        tiles.placeOnRandomTile(bolter, assets.tile`myTile9`)
        tiles.setTileAt(value, assets.tile`transparency16`)
        statusbar3 = statusbars.create(20, 4, StatusBarKind.EnemyHealth)
        statusbar3.attachToSprite(bolter)
    }
}
sprites.onOverlap(SpriteKind.combatform, SpriteKind.Player, function (sprite, otherSprite) {
    controller.moveSprite(otherSprite, 0, 0)
    if (character.matchesRule(otherSprite, character.rule(Predicate.FacingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.FacingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    }
    timer.after(200, function () {
        controller.moveSprite(otherSprite, 120, 0)
    })
    if (character.matchesRule(sprite, character.rule(Predicate.FacingRight))) {
        animation.runImageAnimation(
        sprite,
        [img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.67........
            .6777..dddd7dd.67........
            .6777..ddddddd.677.......
            .6777..ddddbbb.6677777...
            .6777.dddbbbbbb..667777..
            .6777.bbbbbbb7b....6777..
            .67..bbbbb.bb7bb6...6777.
            .....bbbb...bb7b76...677.
            .....bb77...bbbb776..677.
            ....7777.....bbb.776677..
            ....cccc.....ccc..77777..
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677.......
            .6777..dddd7dd.677.......
            .6777..ddddddd.66777.....
            .6777..ddddbbb...6777....
            .6777.dddbbbbbb...67777..
            .6777.bbbbbbb7b.6..66677.
            .67..bbbbb.bb7bb76...677.
            .....bbbb...bb7b776..677.
            .....bb77...bbbb77766677.
            ....7777.....bbb.777777..
            ....cccc.....ccc...777...
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677..7777.
            .6777..dddd7dd.6777777777
            .6777..ddddddd.6677776677
            .6777..ddddbbb...6666..67
            .6777.dddbbbbbb........67
            .6777.bbbbbbb7b........67
            .67..bbbbb.bb7bb......667
            .....bbbb...bb7b....66677
            .....bb77...bbbb....7777.
            ....7777.....bbb.........
            ....cccc.....ccc.........
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777.....777
            ..677..dd77dd7.67..777777
            .6777..dd777dd.6777766667
            .6777..dddd7dd.677666..67
            .6777..ddddddd.666.....67
            .6777..ddddbbb........67.
            .6777.dddbbbbbb....66677.
            .6777.bbbbbbb7b....7777..
            .67..bbbbb.bb7bb.........
            .....bbbb...bb7b.........
            .....bb77...bbbb.........
            ....7777.....bbb.........
            ....cccc.....ccc.........
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677..7777.
            .6777..dddd7dd.6777777777
            .6777..ddddddd.6677776677
            .6777..ddddbbb...6666..67
            .6777.dddbbbbbb........67
            .6777.bbbbbbb7b........67
            .67..bbbbb.bb7bb......667
            .....bbbb...bb7b....66677
            .....bb77...bbbb....7777.
            ....7777.....bbb.........
            ....cccc.....ccc.........
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.677.......
            .6777..dddd7dd.677.......
            .6777..ddddddd.66777.....
            .6777..ddddbbb...6777....
            .6777.dddbbbbbb...67777..
            .6777.bbbbbbb7b.6..66677.
            .67..bbbbb.bb7bb76...677.
            .....bbbb...bb7b776..677.
            .....bb77...bbbb77766677.
            ....7777.....bbb.777777..
            ....cccc.....ccc...777...
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `,img`
            .........................
            .........22..............
            .........662.............
            .........266.............
            ...........6..77777......
            ...........676666677.....
            ...........676766667.....
            ...........767788867.....
            ..........78668818867....
            .........767766818877....
            .........77766681866.....
            .......dd786668888866.22.
            ......dddd8866668867.666.
            .....6dddd6866676667..222
            ...6677dddd88667777......
            ...6777dddd666767........
            ..6777.dd7dd77777........
            ..677..dd77dd7.67........
            .6777..dd777dd.67........
            .6777..dddd7dd.67........
            .6777..ddddddd.677.......
            .6777..ddddbbb.6677777...
            .6777.dddbbbbbb..667777..
            .6777.bbbbbbb7b....6777..
            .67..bbbbb.bb7bb6...6777.
            .....bbbb...bb7b76...677.
            .....bb77...bbbb776..677.
            ....7777.....bbb.776677..
            ....cccc.....ccc..77777..
            ....ccc......cccc........
            ....ccc......cccc........
            ....cccc.....ccccc.......
            ....ffff.....fffff.......
            `],
        50,
        false
        )
    } else {
        animation.runImageAnimation(
        sprite,
        [img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            ........76.dd777dd..7776.
            ........76.dd7dddd..7776.
            .......776.ddddddd..7776.
            ...7777766.bbbdddd..7776.
            ..777766..bbbbbbddd.7776.
            ..7776....b7bbbbbbb.7776.
            .7776...6bb7bb.bbbbb..76.
            .776...67b7bb...bbbb.....
            .776..677bbbb...77bb.....
            ..776677.bbb.....7777....
            ..77777..ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .......776.dd777dd..7776.
            .......776.dd7dddd..7776.
            .....77766.ddddddd..7776.
            ....7776...bbbdddd..7776.
            ..77776...bbbbbbddd.7776.
            .77666..6.b7bbbbbbb.7776.
            .776...67bb7bb.bbbbb..76.
            .776..677b7bb...bbbb.....
            .77666777bbbb...77bb.....
            ..777777.bbb.....7777....
            ...777...ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .7777..776.dd777dd..7776.
            7777777776.dd7dddd..7776.
            7766777766.ddddddd..7776.
            76..6666...bbbdddd..7776.
            76........bbbbbbddd.7776.
            76........b7bbbbbbb.7776.
            766......bb7bb.bbbbb..76.
            77666....b7bb...bbbb.....
            .7777....bbbb...77bb.....
            .........bbb.....7777....
            .........ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            777.....77777dd7dd.7776..
            777777..76.7dd77dd..776..
            7666677776.dd777dd..7776.
            76..666776.dd7dddd..7776.
            76.....666.ddddddd..7776.
            .76........bbbdddd..7776.
            .77666....bbbbbbddd.7776.
            ..7777....b7bbbbbbb.7776.
            .........bb7bb.bbbbb..76.
            .........b7bb...bbbb.....
            .........bbbb...77bb.....
            .........bbb.....7777....
            .........ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .7777..776.dd777dd..7776.
            7777777776.dd7dddd..7776.
            7766777766.ddddddd..7776.
            76..6666...bbbdddd..7776.
            76........bbbbbbddd.7776.
            76........b7bbbbbbb.7776.
            766......bb7bb.bbbbb..76.
            77666....b7bb...bbbb.....
            .7777....bbbb...77bb.....
            .........bbb.....7777....
            .........ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            .......776.dd777dd..7776.
            .......776.dd7dddd..7776.
            .....77766.ddddddd..7776.
            ....7776...bbbdddd..7776.
            ..77776...bbbbbbddd.7776.
            .77666..6.b7bbbbbbb.7776.
            .776...67bb7bb.bbbbb..76.
            .776..677b7bb...bbbb.....
            .77666777bbbb...77bb.....
            ..777777.bbb.....7777....
            ...777...ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `,img`
            .........................
            ..............22.........
            .............266.........
            .............662.........
            ......77777..6...........
            .....776666676...........
            .....766667676...........
            .....768887767...........
            ....76881886687..........
            ....778818667767.........
            .....66818666777.........
            .22.668888866687dd.......
            .666.7688666688dddd......
            222..7666766686dddd6.....
            ......77776688dddd7766...
            ........767666dddd7776...
            ........77777dd7dd.7776..
            ........76.7dd77dd..776..
            ........76.dd777dd..7776.
            ........76.dd7dddd..7776.
            .......776.ddddddd..7776.
            ...7777766.bbbdddd..7776.
            ..777766..bbbbbbddd.7776.
            ..7776....b7bbbbbbb.7776.
            .7776...6bb7bb.bbbbb..76.
            .776...67b7bb...bbbb.....
            .776..677bbbb...77bb.....
            ..776677.bbb.....7777....
            ..77777..ccc.....cccc....
            ........cccc......ccc....
            ........cccc......ccc....
            .......ccccc.....cccc....
            .......fffff.....ffff....
            `],
        50,
        false
        )
    }
    if (armour.value == 0) {
        playerhealth.value += -10
    } else {
        armour.value += -5
    }
    scene.cameraShake(3, 500)
})
statusbars.onZero(StatusBarKind.EnemyHealth, function (status) {
    status.spriteAttachedTo().destroy(effects.disintegrate, 500)
})
sprites.onOverlap(SpriteKind.bullet, SpriteKind.combatform, function (sprite, otherSprite) {
    sprite.destroy(effects.ashes, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -40
    info.changeScoreBy(1)
    if (character.matchesRule(otherSprite, character.rule(Predicate.FacingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(50, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.FacingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(50, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(50, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(50, function () {
            otherSprite.setVelocity(0, 0)
        })
    }
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    story.startCutscene(function () {
        kill_all()
        info.changeScoreBy(-30)
        tiles.setTilemap(tilemap`level6`)
        story.printCharacterText("YOU DIED")
        story.showPlayerChoices("RESTART LEVEL", "GAME OVER")
        if (story.checkLastAnswer("RESTART LEVEL") && level == 0) {
            level = 0
            bringbackall()
            spawncombat()
            spawndrone()
            spawnbolt()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 1) {
            level = 1
            bringbackall()
            spawncombat()
            spawndrone()
            spawnbolt()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 2) {
            level = 2
            bringbackall()
            spawncombat()
            spawndrone()
            spawnbolt()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 3) {
            level = 3
            bringbackall()
            spawncombat()
            spawndrone()
            spawnbolt()
        }
        if (story.checkLastAnswer("RESTART LEVEL") && level == 4) {
            level = 4
            bringbackall()
            spawncombat()
            spawndrone()
            spawnbolt()
        }
        if (story.checkLastAnswer("GAME OVER")) {
            game.over(false)
        }
    })
})
controller.player2.onButtonEvent(ControllerButton.Right, ControllerButtonEvent.Pressed, function () {
    if (canshootrocket == true) {
        if (canfirerocket) {
            canfirerocket = false
            mag += -35
            rocketbar.value += -35
            if (mag > -5) {
                if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingLeft))) {
                    animation.runImageAnimation(
                    player1,
                    [img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        ...........111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbbf......
                        ..........dddbbddddf.....
                        .........dddcccccdddf....
                        ........dd5cc...cc5d.....
                        ........cccc.....ccc.....
                        ........fbb......bfb.....
                        ........fbb......bfb.....
                        .......bbbb......bbbb....
                        .......cccc......cccc....
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        .4...5.....111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        .5...c.....151efffff.....
                        .....cdddddddddf11ffddddc
                        .....cbbbbbbbbbfff1fbbbbc
                        .....c...fffffffffffb....
                        ..4......cbcfddfd1bbb1...
                        .........cbcfcccbcbb1b...
                        .........ccbfddcbbc1b....
                        ...5.......cdddcbbbc.....
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbbf......
                        ..........dddbbddddf.....
                        .........dddcccccdddf....
                        ........dd5cc...cc5d.....
                        ........cccc.....ccc.....
                        ........fbb......bfb.....
                        ........fbb......bfb.....
                        .......bbbb......bbbb....
                        .......cccc......cccc....
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...5.......44444c........
                        ...........111e54c.......
                        .....4.....1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        .4......cbcfcccbcbb1b....
                        ......4.ccbfddcbbc1b.....
                        ...5.......cddcbbbc......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbbf......
                        ..........dddbbddddf.....
                        .........dddcccccdddf....
                        ........dd5cc...cc5d.....
                        ........cccc.....ccc.....
                        ........fbb......bfb.....
                        ........fbb......bfb.....
                        .......bbbb......bbbb....
                        .......cccc......cccc....
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        ...........111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbbf......
                        ..........dddbbddddf.....
                        .........dddcccccdddf....
                        ........dd5cc...cc5d.....
                        ........cccc.....ccc.....
                        ........fbb......bfb.....
                        ........fbb......bfb.....
                        .......bbbb......bbbb....
                        .......cccc......cccc....
                        `],
                    100,
                    false
                    )
                    boomza = sprites.createProjectileFromSprite(img`
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . 2 2 b c c c b c . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        `, player1, -150, 0)
                    boomza.setKind(SpriteKind.boom)
                    boomza.startEffect(effects.trail, 2000)
                } else if (character.matchesRule(player1, character.rule(Predicate.NotMoving, Predicate.FacingRight))) {
                    animation.runImageAnimation(
                    player1,
                    [img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111...........
                        ......f54e1111...........
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        ......fbbbbbbb...........
                        .....fddddbbddd..........
                        ....fdddcccccddd.........
                        .....d5cc...cc5dd........
                        .....ccc.....cccc........
                        .....bfb......bbf........
                        .....bfb......bbf........
                        ....bbbb......bbbb.......
                        ....cccc......cccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111.....5...4.
                        ......f54e1111...........
                        ......ff4e5515...........
                        .....fffffe151.....c...5.
                        cddddff11fdddddddddc.....
                        cbbbbf1fffbbbbbbbbbc.....
                        ....bfffffffffff...c.....
                        ...1bbb1dfddfcbc......4..
                        ...b1bbcbcccfcbc.........
                        ....b1cbbcddfbcc.........
                        .....cbbbcdddc.......5...
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        ......fbbbbbbb...........
                        .....fddddbbddd..........
                        ....fdddcccccddd.........
                        .....d5cc...cc5dd........
                        .....ccc.....cccc........
                        .....bfb......bbf........
                        .....bfb......bbf........
                        ....bbbb......bbbb.......
                        ....cccc......cccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444.......5...
                        .......c45e111...........
                        ......f54e1111.....4.....
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc......4.
                        .....b1cbbcddfbcc.4......
                        ......cbbbcddc.......5...
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        ......fbbbbbbb...........
                        .....fddddbbddd..........
                        ....fdddcccccddd.........
                        .....d5cc...cc5dd........
                        .....ccc.....cccc........
                        .....bfb......bbf........
                        .....bfb......bbf........
                        ....bbbb......bbbb.......
                        ....cccc......cccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111...........
                        ......f54e1111...........
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        ......fbbbbbbb...........
                        .....fddddbbddd..........
                        ....fdddcccccddd.........
                        .....d5cc...cc5dd........
                        .....ccc.....cccc........
                        .....bfb......bbf........
                        .....bfb......bbf........
                        ....bbbb......bbbb.......
                        ....cccc......cccc.......
                        `],
                    100,
                    false
                    )
                    boomza = sprites.createProjectileFromSprite(img`
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . c b c c c b 2 2 . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        `, player1, 150, 0)
                    boomza.setKind(SpriteKind.boom)
                    boomza.startEffect(effects.trail, 2000)
                } else if (character.matchesRule(player1, character.rule(Predicate.MovingRight))) {
                    animation.runImageAnimation(
                    player1,
                    [img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111...........
                        ......f54e1111...........
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbddd..........
                        ......fddccccddd.........
                        ......fd5c..cc5dd........
                        .......ccc...cccc........
                        .......bfb....bbf........
                        .......bfb....bbf........
                        .......bbb....bbbb.......
                        .......ccc....cccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111.....5...4.
                        ......f54e1111...........
                        ......ff4e5515......4....
                        .....fffffe151.....c.....
                        cddddff11fdddddddddc...5.
                        cbbbbf1fffbbbbbbbbbc.....
                        ....bfffffffffff...c.4...
                        ...1bbb1dfddfcbc.........
                        ...b1bbcbcccfcbc.......4.
                        ....b1cbbcddfbcc.........
                        .....cbbbcdddc.....5.....
                        .......cdddddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbdd...........
                        ......fddccccd...........
                        ......fd5c.cc5...........
                        .......ccc.ccc...........
                        .......bfb.bbf...........
                        .......bfbbbf............
                        .......bbbbbb............
                        .......cccccc............
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111..........5
                        ......f54e1111........4..
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc..4.
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc...4..5.
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......ffdddbbd...........
                        ......ffddcccd...........
                        ......ffd5ccc5...........
                        .......ccccccc...........
                        ........bbbbf............
                        .........bbfb............
                        ........bbbbbb...........
                        ........cccccc...........
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111...........
                        ......f54e1111...........
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbdd...........
                        ......fddccccd...........
                        ......fd5c.cc5...........
                        .......ccc.ccc...........
                        .......bfb.bbf...........
                        .......bfbbbf............
                        .......bbbbbb............
                        .......cccccc............
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111...........
                        ......f54e1111...........
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbddd..........
                        ......fddccccddd.........
                        ......fd5c..cc5dd........
                        .......ccc...cccc........
                        .......bfb....bbf........
                        .......bfb....bbf........
                        .......bbb....bbbb.......
                        .......ccc....cccc.......
                        `],
                    100,
                    false
                    )
                    boomza = sprites.createProjectileFromSprite(img`
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . c b c c c b 2 2 . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        `, player1, 150, 0)
                    boomza.setKind(SpriteKind.boom)
                    boomza.startEffect(effects.trail, 2000)
                } else if (character.matchesRule(player1, character.rule(Predicate.MovingLeft))) {
                    animation.runImageAnimation(
                    player1,
                    [img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        ...........111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ..........dddbbdddf......
                        .........dddccccddf......
                        ........dd5cc..c5df......
                        ........cccc...ccc.......
                        ........fbb....bfb.......
                        ........fbb....bfb.......
                        .......bbbb....bbb.......
                        .......cccc....ccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        .4...5.....111e54c.......
                        ...........1111e45f......
                        ....4......5155e4ff......
                        .....c.....151efffff.....
                        .5...cdddddddddf11ffddddc
                        .....cbbbbbbbbbfff1fbbbbc
                        ...4.c...fffffffffffb....
                        .........cbcfddfd1bbb1...
                        .4.......cbcfcccbcbb1b...
                        .........ccbfddcbbc1b....
                        .....5.....cdddcbbbc.....
                        ...........cdddddc.......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ...........ddbbdddf......
                        ...........dccccddf......
                        ...........5cc.c5df......
                        ...........ccc.ccc.......
                        ...........fbb.bfb.......
                        ............fbbbfb.......
                        ............bbbbbb.......
                        ............cccccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        5..........111e54c.......
                        ..4........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        .4..cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        .5..4...cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ...........dbbdddff......
                        ...........dcccddff......
                        ...........5ccc5dff......
                        ...........ccccccc.......
                        ............fbbbb........
                        ............bfbb.........
                        ...........bbbbbb........
                        ...........cccccc........
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        ...........111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ...........ddbbdddf......
                        ...........dccccddf......
                        ...........5cc.c5df......
                        ...........ccc.ccc.......
                        ...........fbb.bfb.......
                        ............fbbbfb.......
                        ............bbbbbb.......
                        ............cccccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        ...........111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ..........dddbbdddf......
                        .........dddccccddf......
                        ........dd5cc..c5df......
                        ........cccc...ccc.......
                        ........fbb....bfb.......
                        ........fbb....bfb.......
                        .......bbbb....bbb.......
                        .......cccc....ccc.......
                        `],
                    100,
                    false
                    )
                    boomza = sprites.createProjectileFromSprite(img`
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . 2 2 b c c c b c . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        `, player1, -150, 0)
                    boomza.setKind(SpriteKind.boom)
                    boomza.startEffect(effects.trail, 2000)
                } else if (character.matchesRule(player1, character.rule(Predicate.MovingUp, Predicate.FacingLeft))) {
                    animation.runImageAnimation(
                    player1,
                    [img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        ...........111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ...........ddbbdddf......
                        ...........dccccddf......
                        ...........5cc.c5df......
                        ...........ccc.ccc.......
                        ...........fbb.fbb.......
                        ............fbbfbb.......
                        ............bbbbbb.......
                        ............cccccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...5.......44444c........
                        .4.........111e54c.......
                        ...........1111e45f......
                        ....4......5155e4ff......
                        .....c.....151efffff.....
                        .....cdddddddddf11ffddddc
                        .....cbbbbbbbbbfff1fbbbbc
                        4..5.c...fffffffffffb....
                        .........cbcfddfd1bbb1...
                        .........cbcfcccbcbb1b...
                        ...4.....ccbfddcbbc1b....
                        ...........cdddcbbbc.....
                        ...........cdddddc.......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ...........ddbbdddf......
                        ...........dccccddf......
                        ...........5cc.c5df......
                        ...........ccc.ccc.......
                        ...........fbb.fbb.......
                        ............fbbfbb.......
                        ............bbbbbb.......
                        ............cccccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        .....5.....111e54c.......
                        .5.........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        .4......cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ..5.....ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ...........ddbbdddf......
                        ...........dccccddf......
                        ...........5cc.c5df......
                        ...........ccc.ccc.......
                        ...........fbb.fbb.......
                        ............fbbfbb.......
                        ............bbbbbb.......
                        ............cccccc.......
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ...........44444c........
                        ...........111e54c.......
                        ...........1111e45f......
                        ...........5155e4ff......
                        ....c......151fffff......
                        ....cdddddddddf11ffddddc.
                        ....cbbbbbbbbbfff1fbbbbc.
                        ....c...fffffffffffb.....
                        ........cbcfddfd1bbb1....
                        ........cbcfcccbcbb1b....
                        ........ccbfddcbbc1b.....
                        ...........cddcbbbc......
                        ...........cdddddc.......
                        ...........cdddddc.......
                        ...........ccd5dcc.......
                        ...........5ccccc5.......
                        ...........bbbbbbb.......
                        ...........ddbbdddf......
                        ...........dccccddf......
                        ...........5cc.c5df......
                        ...........ccc.ccc.......
                        ...........fbb.fbb.......
                        ............fbbfbb.......
                        ............bbbbbb.......
                        ............cccccc.......
                        `],
                    100,
                    false
                    )
                    boomza = sprites.createProjectileFromSprite(img`
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . 2 2 b c c c b c . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        `, player1, -150, 0)
                    boomza.setKind(SpriteKind.boom)
                    boomza.startEffect(effects.trail, 2000)
                } else {
                    animation.runImageAnimation(
                    player1,
                    [img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111...........
                        ......f54e1111...........
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbdd...........
                        ......fddccccd...........
                        ......fd5c.cc5...........
                        .......ccc.ccc...........
                        .......bbf.bbf...........
                        .......bbfbbf............
                        .......bbbbbb............
                        .......cccccc............
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444.......5...
                        .......c45e111.........4.
                        ......f54e1111...........
                        ......ff4e5515......4....
                        .....fffffe151.....c.....
                        cddddff11fdddddddddc.....
                        cbbbbf1fffbbbbbbbbbc.....
                        ....bfffffffffff...c.5..4
                        ...1bbb1dfddfcbc.........
                        ...b1bbcbcccfcbc.........
                        ....b1cbbcddfbcc.....4...
                        .....cbbbcdddc...........
                        .......cdddddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbdd...........
                        ......fddccccd...........
                        ......fd5c.cc5...........
                        .......ccc.ccc...........
                        .......bbf.bbf...........
                        .......bbfbbf............
                        .......bbbbbb............
                        .......cccccc............
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111.....5.....
                        ......f54e1111.........5.
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc......4.
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc.....5..
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbdd...........
                        ......fddccccd...........
                        ......fd5c.cc5...........
                        .......ccc.ccc...........
                        .......bbf.bbf...........
                        .......bbfbbf............
                        .......bbbbbb............
                        .......cccccc............
                        `,img`
                        .........................
                        .........................
                        .........................
                        .........................
                        .........................
                        ........c44444...........
                        .......c45e111...........
                        ......f54e1111...........
                        ......ff4e5515...........
                        ......fffff151......c....
                        .cddddff11fdddddddddc....
                        .cbbbbf1fffbbbbbbbbbc....
                        .....bfffffffffff...c....
                        ....1bbb1dfddfcbc........
                        ....b1bbcbcccfcbc........
                        .....b1cbbcddfbcc........
                        ......cbbbcddc...........
                        .......cdddddc...........
                        .......cdddddc...........
                        .......ccd5dcc...........
                        .......5ccccc5...........
                        .......bbbbbbb...........
                        ......fdddbbdd...........
                        ......fddccccd...........
                        ......fd5c.cc5...........
                        .......ccc.ccc...........
                        .......bbf.bbf...........
                        .......bbfbbf............
                        .......bbbbbb............
                        .......cccccc............
                        `],
                    100,
                    false
                    )
                    boomza = sprites.createProjectileFromSprite(img`
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . c b c c c b 2 2 . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        . . . . . . . . . . . . . . . . 
                        `, player1, 150, 0)
                    boomza.setKind(SpriteKind.boom)
                    boomza.startEffect(effects.trail, 2000)
                }
            }
            timer.after(cooldown2, function () {
                canfirerocket = true
            })
        }
    }
})
function kill_all () {
    tiles.destroySpritesOfKind(SpriteKind.Player)
    tiles.destroySpritesOfKind(SpriteKind.combatform)
    tiles.destroySpritesOfKind(SpriteKind.Bolt)
    tiles.destroySpritesOfKind(SpriteKind.Gooper)
    tiles.destroySpritesOfKind(SpriteKind.Charger)
    tiles.destroySpritesOfKind(SpriteKind.Drone)
    tiles.destroySpritesOfKind(SpriteKind.EMPI)
    tiles.destroySpritesOfKind(SpriteKind.F1)
    tiles.destroySpritesOfKind(SpriteKind.F2)
    tiles.destroySpritesOfKind(SpriteKind.F3)
    tiles.destroySpritesOfKind(SpriteKind.F5)
    tiles.destroySpritesOfKind(SpriteKind.Boss)
    tiles.destroySpritesOfKind(SpriteKind.StatusBar)
    if (controller.B.isPressed()) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, player1, 50, 50)
    } else if (controller.player2.isPressed(ControllerButton.Right)) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, player1, 50, 50)
    }
}
function spawncharger () {
	
}
function spawnmboss5 () {
	
}
statusbars.onZero(StatusBarKind.power, function (status) {
    player1.sayText("Rockets out!", 1000, false)
    if (character.matchesRule(player1, character.rule(Predicate.MovingRight))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcbc........
            ....b1bbcbcccfcbc........
            .....b1cbbcddfbcc........
            ......cbbbcddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbddd..........
            ......fddccccddd.........
            ......fd5c..cc5dd........
            .......ccc...cccc........
            .......bfb....bbf........
            .......bfb....bbf........
            .......bbb....bbbb.......
            .......ccc....cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfccc........
            ....b1bbcbcccfccbc.......
            .....b1cbbcddfccbc.......
            ......cbbbcddc.bcc.......
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bfb.bbf...........
            .......bfbbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...5....c44444...........
            4......c45e111...........
            ......f54e1111...........
            .5....ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcc.........
            .5..b1bbcbcccfcbc........
            .....b1cbbcddfcbc........
            ...4..cbbbcddcbcc........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......ffdddbbd...........
            ......ffddcccd...........
            ......ffd5ccc5...........
            .......ccccccc...........
            ........bbbbf............
            .........bbfb............
            ........bbbbbb...........
            ........cccccc...........
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            5......c45e111...........
            ...4..f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ..5.1bbb1dfddfccc........
            ....b1bbcbcccfccbc.......
            .4...b1cbbcddfccbc.......
            ......cbbbcddc.bcc.......
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bfb.bbf...........
            .......bfbbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcbc........
            ....b1bbcbcccfcbc........
            .....b1cbbcddfbcc........
            ......cbbbcddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbddd..........
            ......fddccccddd.........
            ......fd5c..cc5dd........
            .......ccc...cccc........
            .......bfb....bbf........
            .......bfb....bbf........
            .......bbb....bbbb.......
            .......ccc....cccc.......
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.MovingLeft))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cbcfddfd1bbb1....
            ........cbcfcccbcbb1b....
            ........ccbfddcbbc1b.....
            ...........cddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ..........dddbbdddf......
            .........dddccccddf......
            ........dd5cc..c5df......
            ........cccc...ccc.......
            ........fbb....bfb.......
            ........fbb....bfb.......
            .......bbbb....bbb.......
            .......cccc....ccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cccfddfd1bbb1....
            .......cbccfcccbcbb1b....
            .......cbccfddcbbc1b.....
            .......ccb.cddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.bfb.......
            ............fbbbfb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c....5...
            ...........111e54c......4
            ...........1111e45f......
            ...........5155e4ff....5.
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            .........ccfddfd1bbb1....
            ........cbcfcccbcbb1b..5.
            ........cbcfddcbbc1b.....
            ........ccbcddcbbbc..4...
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........dbbdddff......
            ...........dcccddff......
            ...........5ccc5dff......
            ...........ccccccc.......
            ............fbbbb........
            ............bfbb.........
            ...........bbbbbb........
            ...........cccccc........
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c......5
            ...........1111e45f..4...
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cccfddfd1bbb1.5..
            .......cbccfcccbcbb1b....
            .......cbccfddcbbc1b...4.
            .......ccb.cddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.bfb.......
            ............fbbbfb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cbcfddfd1bbb1....
            ........cbcfcccbcbb1b....
            ........ccbfddcbbc1b.....
            ...........cddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ..........dddbbdddf......
            .........dddccccddf......
            ........dd5cc..c5df......
            ........cccc...ccc.......
            ........fbb....bfb.......
            ........fbb....bfb.......
            .......bbbb....bbb.......
            .......cccc....ccc.......
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.FacingRight))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcbc........
            ....b1bbcbcccfcbc........
            .....b1cbbcddfbcc........
            ......cbbbcddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfccc........
            ....b1bbcbcccfccbc.......
            .....b1cbbcddfccbc.......
            ......cbbbcddc.bcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...5....c44444...........
            .4.....c45e111...........
            ......f54e1111...........
            .5....ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            4...1bbb1dfddfcc.........
            ..5.b1bbcbcccfcbc........
            .....b1cbbcddfcbc........
            ......cbbbcddcbcc........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .5.....c45e111...........
            ...4..f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            5...1bbb1dfddfccc........
            ..4.b1bbcbcccfccbc.......
            .....b1cbbcddfccbc.......
            ......cbbbcddc.bcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcbc........
            ....b1bbcbcccfcbc........
            .....b1cbbcddfbcc........
            ......cbbbcddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.FacingLeft))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cbcfddfd1bbb1....
            ........cbcfcccbcbb1b....
            ........ccbfddcbbc1b.....
            ...........cddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cccfddfd1bbb1....
            .......cbccfcccbcbb1b....
            .......cbccfddcbbc1b.....
            .......ccb.cddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c....5...
            ...........111e54c.....4.
            ...........1111e45f......
            ...........5155e4ff....5.
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            .........ccfddfd1bbb1...4
            ........cbcfcccbcbb1b.5..
            ........cbcfddcbbc1b.....
            ........ccbcddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.....5.
            ...........1111e45f..4...
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cccfddfd1bbb1...5
            .......cbccfcccbcbb1b.4..
            .......cbccfddcbbc1b.....
            .......ccb.cddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cbcfddfd1bbb1....
            ........cbcfcccbcbb1b....
            ........ccbfddcbbc1b.....
            ...........cddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.Moving, Predicate.FacingRight))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcbc........
            ....b1bbcbcccfcbc........
            .....b1cbbcddfbcc........
            ......cbbbcddc...........
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfccc........
            ....b1bbcbcccfccbc.......
            .....b1cbbcddfccbc.......
            ......cbbbcddc.bcc.......
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .5......c44444...........
            .......c45e111...........
            ...5..f54e1111...........
            .4....ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcc.........
            ..5.b1bbcbcccfcbc........
            4....b1cbbcddfcbc........
            ......cbbbcddcbcc........
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            ..4....c45e111...........
            ......f54e1111...........
            .5....ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            .4..1bbb1dfddfccc........
            ....b1bbcbcccfccbc.......
            ..5..b1cbbcddfccbc.......
            ......cbbbcddc.bcc.......
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            ......fffff151......c....
            .cddddff11fdddddddddc....
            .cbbbbf1fffbbbbbbbbbc....
            .....bfffffffffff...c....
            ....1bbb1dfddfcbc........
            ....b1bbcbcccfcbc........
            .....b1cbbcddfbcc........
            ......cbbbcddc...........
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.Moving, Predicate.FacingLeft))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cbcfddfd1bbb1....
            ........cbcfcccbcbb1b....
            ........ccbfddcbbc1b.....
            ...........cddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cccfddfd1bbb1....
            .......cbccfcccbcbb1b....
            .......cbccfddcbbc1b.....
            .......ccb.cddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c......5.
            ...........111e54c.......
            ...........1111e45f..5...
            ...........5155e4ff....4.
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            .........ccfddfd1bbb1....
            ........cbcfcccbcbb1b.5..
            ........cbcfddcbbc1b....4
            ........ccbcddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c....4..
            ...........1111e45f......
            ...........5155e4ff....5.
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cccfddfd1bbb1..4.
            .......cbccfcccbcbb1b....
            .......cbccfddcbbc1b..5..
            .......ccb.cddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ....c......151fffff......
            ....cdddddddddf11ffddddc.
            ....cbbbbbbbbbfff1fbbbbc.
            ....c...fffffffffffb.....
            ........cbcfddfd1bbb1....
            ........cbcfcccbcbb1b....
            ........ccbfddcbbc1b.....
            ...........cddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `],
        100,
        false
        )
    }
    pause(5000)
    mag = 100
    rocketbar.value = 100
})
function spawngooper () {
	
}
sprites.onOverlap(SpriteKind.Bolt, SpriteKind.Player, function (sprite, otherSprite) {
    controller.moveSprite(otherSprite, 0, 0)
    if (character.matchesRule(otherSprite, character.rule(Predicate.FacingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.FacingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    }
    timer.after(200, function () {
        controller.moveSprite(otherSprite, 120, 0)
    })
    if (armour.value == 0) {
        playerhealth.value += -5
    } else {
        armour.value += -2
    }
    scene.cameraShake(2, 500)
})
function startlevel () {
    if (level == 0) {
        tiles.setTilemap(tilemap`level1`)
    } else if (level == 1) {
        tiles.setTilemap(tilemap`level2`)
    } else if (level == 2) {
        tiles.setTilemap(tilemap`level2`)
    } else if (level == 3) {
        tiles.setTilemap(tilemap`level4`)
    } else if (level == 4) {
        tiles.setTilemap(tilemap`level5`)
    } else {
        game.over(true, effects.confetti)
    }
    for (let value of tiles.getTilesByType(assets.tile`myTile3`)) {
        tiles.placeOnRandomTile(player1, assets.tile`myTile3`)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    for (let value of tiles.getTilesByType(tiles.util.door0)) {
        tiles.setTileAt(value, assets.tile`myTile7`)
    }
    for (let value of sprites.allOfKind(SpriteKind.combatform)) {
        value.destroy()
    }
    for (let value of sprites.allOfKind(SpriteKind.Drone)) {
        value.destroy()
    }
}
sprites.onOverlap(SpriteKind.bullet, SpriteKind.Drone, function (sprite, otherSprite) {
    sprite.destroy(effects.ashes, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -50
    info.changeScoreBy(1)
    if (character.matchesRule(otherSprite, character.rule(Predicate.FacingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.FacingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    }
})
function ammo_bar () {
    ammo = 5
    ammobar = statusbars.create(50, 4, StatusBarKind.Energy)
    ammobar.value = 100
    ammobar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    ammobar.setColor(5, 12, 4)
    ammobar.setOffsetPadding(0, 5)
    ammobar.positionDirection(CollisionDirection.Top)
    ammobar.setLabel("Ammo")
    ammo = 100
}
controller.menu.onEvent(ControllerButtonEvent.Pressed, function () {
    if (blockMenu.isMenuOpen()) {
        blockMenu.closeMenu()
        blockMenu.setControlsEnabled(false)
        controller.moveSprite(player1, 120, 0)
        color.clearFadeEffect()
    } else {
        controller.moveSprite(player1, 0, 0)
        blockMenu.setColors(15, 1)
        blockMenu.showMenu([
        "Sprint",
        "Melee",
        "Wall-Jump"
        ], MenuStyle.List, MenuLocation.BottomHalf)
        blockMenu.setControlsEnabled(true)
        color.Darken.startScreenEffect()
    }
})
function spawnmboss1 () {
	
}
function bringbackall () {
    spawnboss()
    spawnmboss2()
    spawnmboss5()
    rocket_bar()
    spawnmboss1()
    spawnmboss3()
    shield2()
    spawnEMPI()
    ammo_bar()
    spawncharger()
    spawncombat()
    spawngooper()
    spawndrone()
    spawnbolt()
    spawnplayer1()
    startlevel()
}
function spawnEMPI () {
	
}
controller.combos.attachCombo("DU", function () {
    player1.sayText("Sprint engaged.", 500, false)
    player1.startEffect(effects.warmRadial, 2500)
    controller.moveSprite(player1, 180, 0)
    timer.after(3000, function () {
        controller.moveSprite(player1, 120, 0)
    })
})
function shield2 () {
    armour = statusbars.create(18, 4, StatusBarKind.shield)
    armour.attachToSprite(player1, 6, 0)
    armour.value = 100
    armour.setColor(1, 12, 13)
    armour.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
    armour.setLabel("AP")
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.plate, function (sprite, otherSprite) {
    otherSprite.destroy()
    for (let value of tiles.getTilesByType(assets.tile`myTile0`)) {
        turret = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . b b b b b b b b c . . . 
            . . . . b b b b b b b b c . . . 
            . . . . b b 1 1 1 b b b c . . . 
            . . . . b b b b 1 1 b b c . . . 
            . . . . b b b b b b b b c . . . 
            . . . . b b b b b b b b c . . . 
            . . . . . . . c c . . . . . . . 
            . . . . . . c c c . . . . . . . 
            . . . . . c c c . . . . . . . . 
            . . . . . c c . . . . . . . . . 
            . . f f f f f f f f f . . . . . 
            `, SpriteKind.cannon)
        tiles.placeOnTile(turret, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
})
sprites.onOverlap(SpriteKind.bullet, SpriteKind.Bolt, function (sprite, otherSprite) {
    sprite.destroy(effects.ashes, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += 100
    info.changeScoreBy(1)
    if (character.matchesRule(otherSprite, character.rule(Predicate.FacingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.FacingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(100, function () {
            otherSprite.setVelocity(0, 0)
        })
    }
})
statusbars.onZero(StatusBarKind.Energy, function (status) {
    player1.sayText("Changing mag!", 1000, false)
    if (character.matchesRule(player1, character.rule(Predicate.MovingRight))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccfffc.ff222222
            .....b1cbbcddffcbc.......
            ......ccbbcddcccbc.......
            .......cdddddc.bcc.......
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbddd..........
            ......fddccccddd.........
            ......fd5c..cc5dd........
            .......ccc...cccc........
            .......bfb....bbf........
            .......bfb....bbf........
            .......bbb....bbbb.......
            .......ccc....cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc444c...........
            ......1bfcccff...........
            .....bb1bdccfff..f.......
            ....1bbb1ffddffffff......
            ....b1bbffffffffff.......
            .....b1ccbcddcccbff222222
            .....cccbbcdfffcbc.......
            ......cbbbcddffbcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfdccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbfbccdcc..ff222222
            .....b1cbbcddccbc........
            ......cbbbcddccbc........
            .......cdddddcbcc........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......ffdddbbd...........
            ......ffddcccd...........
            ......ffd5ccc5...........
            .......ccccccc...........
            ........bbbbf............
            .........bbfb............
            ........bbbbbb...........
            ........cccccc...........
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc444c...........
            ......1bfcccff...........
            .....bb1bdccfff..f.......
            ....1bbb1ffddffffff......
            ....b1bbffffffffff.......
            .....b1ccbcddcccbff222222
            .....cccbbcdfffcbc.......
            ......cbbbcddffbcc.......
            .......cddddd............
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccfffc.ff222222
            .....b1cbbcddffcbc.......
            ......ccbbcddcccbc.......
            .......cdddddc.bcc.......
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbddd..........
            ......fddccccddd.........
            ......fd5c..cc5dd........
            .......ccc...cccc........
            .......bfb....bbf........
            .......bfb....bbf........
            .......bbb....bbbb.......
            .......ccc....cccc.......
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.MovingLeft))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cfffccbcbb1b....
            .......cbcffddcbbc1b.....
            .......cbcccddcbbcc......
            .......ccb.cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ..........dddbbdddf......
            .........dddccccddf......
            ........dd5cc..c5df......
            ........cccc...ccc.......
            ........fbb....bfb.......
            ........fbb....bfb.......
            .......bbbb....bbb.......
            .......cccc....ccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........c444cc........
            ...........ffcccfb1......
            .......f..fffccdb1bb.....
            ......ffffffddff1bbb1....
            .......ffffffffffbb1b....
            222222ffbcccddcbcc1b.....
            .......cbcfffdcbbccc.....
            .......ccbffddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffccdfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff..ccdccbfbb1b....
            ........cbccddcbbc1b.....
            ........cbccddcbbbc......
            ........ccbcdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........dbbdddff......
            ...........dcccddff......
            ...........5ccc5dff......
            ...........ccccccc.......
            ............fbbbb........
            ............bfbb.........
            ...........bbbbbb........
            ...........cccccc........
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........c444cc........
            ...........ffcccfb1......
            .......f..fffccdb1bb.....
            ......ffffffddff1bbb1....
            .......ffffffffffbb1b....
            222222ffbcccddcbcc1b.....
            .......cbcfffdcbbccc.....
            .......ccbffddcbbbc......
            ............dddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cfffccbcbb1b....
            .......cbcffddcbbc1b.....
            .......cbcccddcbbcc......
            .......ccb.cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ..........dddbbdddf......
            .........dddccccddf......
            ........dd5cc..c5df......
            ........cccc...ccc.......
            ........fbb....bfb.......
            ........fbb....bfb.......
            .......bbbb....bbb.......
            .......cccc....ccc.......
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.FacingRight))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccfffc.ff222222
            .....b1cbbcddffcbc.......
            ......cbbbcddc.cbc.......
            .......cdddddc.bcc.......
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccccccbff222222
            .....b1cbbcdfffcbc.......
            ......cbbbcddffbcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccdcc..ff222222
            .....b1cbbcddccbc........
            ......cbbbcddccbc........
            .......cdddddcbcc........
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccdccc.ff222222
            .....b1cbbcdfffcbc.......
            ......cbbbcddffcbc.......
            .......cdddddc.bcc.......
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccfffc.ff222222
            .....b1cbbcddffcbc.......
            ......cbbbcddc.cbc.......
            .......cdddddc.bcc.......
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc444c...........
            ......1bfcccff...........
            .....bb1bdccfff..f.......
            ....1bbb1ffddffffff......
            ....b1bbcfffffffff.......
            .....b1ccbccfffcbff222222
            .....cccbbcddffcbc.......
            ......cbbbcddc.bcc.......
            .......ccd5dcc...........
            .......5ccccc5...........
            ......fbbbbbbb...........
            .....fddddbbddd..........
            ....fdddcccccddd.........
            .....d5cc...cc5dd........
            .....ccc.....cccc........
            .....bfb......bbf........
            .....bfb......bbf........
            ....bbbb......bbbb.......
            ....cccc......cccc.......
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.FacingLeft))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cfffccbcbb1b....
            .......cbcffddcbbc1b.....
            .......cbc.cddcbbbc......
            .......ccb.cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ffbccccccbcbb1b....
            .......cbcfffdcbbc1b.....
            .......ccbffddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff..ccdccbcbb1b....
            ........cbccddcbbc1b.....
            ........cbccddcbbbc......
            ........ccbcdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cccdccbcbb1b....
            .......cbcfffdcbbc1b.....
            .......cbcffddcbbbc......
            .......ccb.cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cfffccbcbb1b....
            .......cbcffddcbbc1b.....
            .......cbc.cddcbbbc......
            .......ccb.cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........c444cc........
            ...........ffcccfb1......
            .......f..fffccdb1bb.....
            ......ffffffddff1bbb1....
            .......fffffffffcbb1b....
            222222ffbcfffccbcc1b.....
            .......cbcffddcbbccc.....
            .......ccb.cddcbbbc......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbbf......
            ..........dddbbddddf.....
            .........dddcccccdddf....
            ........dd5cc...cc5d.....
            ........cccc.....ccc.....
            ........fbb......bfb.....
            ........fbb......bfb.....
            .......bbbb......bbbb....
            .......cccc......cccc....
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.Moving, Predicate.FacingRight))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccfffc.ff222222
            .....b1cbbcddffcbc.......
            ......cbbbcddc.cbc.......
            .......cdddddc.bcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccccccbff222222
            .....b1cbbcdfffcbc.......
            ......cbbbcddffbcc.......
            .......cdddddc...........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccdcc..ff222222
            .....b1cbbcddccbc........
            ......cbbbcddccbc........
            .......cdddddcbcc........
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccdccc.ff222222
            .....b1cbbcdfffcbc.......
            ......cbbbcddffcbc.......
            .......cdddddc.bcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc44ff...........
            ......1bfcccfff..f.......
            .....bb1bffddffffff......
            ....1bbb1fffffffff.......
            ....b1bbcbccfffc.ff222222
            .....b1cbbcddffcbc.......
            ......cbbbcddc.cbc.......
            .......cdddddc.bcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ........c44444...........
            .......c45e111...........
            ......f54e1111...........
            ......ff4e5515...........
            .......cc4e151...........
            ........cc444c...........
            ......1bfcccff...........
            .....bb1bdccfff..f.......
            ....1bbb1ffddffffff......
            ....b1bbcfffffffff.......
            .....b1ccbccfffcbff222222
            .....cccbbcddffcbc.......
            ......cbbbcddc.bcc.......
            .......cdddddc...........
            .......ccd5dcc...........
            .......5ccccc5...........
            .......bbbbbbb...........
            ......fdddbbdd...........
            ......fddccccd...........
            ......fd5c.cc5...........
            .......ccc.ccc...........
            .......bbf.bbf...........
            .......bbfbbf............
            .......bbbbbb............
            .......cccccc............
            `],
        100,
        false
        )
    } else if (character.matchesRule(player1, character.rule(Predicate.Moving, Predicate.FacingLeft))) {
        animation.runImageAnimation(
        player1,
        [img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cfffccbcbb1b....
            .......cbcffddcbbc1b.....
            .......cbc.cddcbbbc......
            .......ccb.cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ffbccccccbcbb1b....
            .......cbcfffdcbbc1b.....
            .......ccbffddcbbbc......
            ...........cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff..ccdccbcbb1b....
            ........cbccddcbbc1b.....
            ........cbccddcbbbc......
            ........ccbcdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cccdccbcbb1b....
            .......cbcfffdcbbc1b.....
            .......cbcffddcbbbc......
            .......ccb.cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........ff44cc........
            .......f..fffcccfb1......
            ......ffffffddffb1bb.....
            .......fffffffff1bbb1....
            222222ff.cfffccbcbb1b....
            .......cbcffddcbbc1b.....
            .......cbc.cddcbbbc......
            .......ccb.cdddddc.......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            ...........44444c........
            ...........111e54c.......
            ...........1111e45f......
            ...........5155e4ff......
            ...........151e4cc.......
            ...........c444cc........
            ...........ffcccfb1......
            .......f..fffccdb1bb.....
            ......ffffffddff1bbb1....
            .......fffffffffcbb1b....
            222222ffbcfffccbcc1b.....
            .......cbcffddcbbccc.....
            .......ccb.cddcbbbc......
            ...........cdddddc.......
            ...........ccd5dcc.......
            ...........5ccccc5.......
            ...........bbbbbbb.......
            ...........ddbbdddf......
            ...........dccccddf......
            ...........5cc.c5df......
            ...........ccc.ccc.......
            ...........fbb.fbb.......
            ............fbbfbb.......
            ............bbbbbb.......
            ............cccccc.......
            `],
        100,
        false
        )
    }
    pause(2000)
    ammo = 100
    ammobar.value = 100
})
sprites.onOverlap(SpriteKind.boom, SpriteKind.combatform, function (sprite, otherSprite) {
    sprite.destroy(effects.fire, 100)
    statusbars.getStatusBarAttachedTo(StatusBarKind.EnemyHealth, otherSprite).value += -100
    info.changeScoreBy(5)
})
controller.combos.attachSpecialCode(function () {
    player1.startEffect(effects.confetti, 500)
    armour.value = 100
    playerhealth.value = 100
})
function spawndrone () {
    for (let value of tiles.getTilesByType(assets.tile`myTile8`)) {
        airbourne = sprites.create(img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            `, SpriteKind.Drone)
        animation.runImageAnimation(
        airbourne,
        [img`
            ..............................
            ..............................
            .2.2..........................
            ..66..................6.......
            ..266................66.7.....
            ...d6...............66677.....
            ...c6ccc...........666777.....
            ..bb6bbbc.........6677777.....
            ..bb6bbbc........66777777.....
            ..66667bbc.....667777777......
            ..616667bc...66777777777......
            ..616667777dd7777777777.......
            ...6666777dd777777..77........
            ...666777dddddd77.............
            2.66....dddddddddd............
            .66......ddd7dddddd...ccfff...
            22........dd77dddddcccccffff..
            ...........777ddddbbbbbbffff..
            ..........77777ddbbbbbbbcccc..
            ..........77776..bbbbbbccccc..
            ..........7776.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .2.2..........................
            ..66..........................
            ..266..................6......
            ...d6.................667.....
            ...c6ccc.............6677.....
            ..bb6bbbc...........66777.....
            ..bb6bbbc..........667777.....
            ..66667bbc.......6677777......
            ..616667bc.....667777777......
            ..616667777dd7677777777.......
            ...6666777dd777777..77........
            ...666777dddddd77.............
            2.66....dddddddddd............
            .66......ddd7dddddd..cccff....
            22........dd77dddddcccccfff...
            ...........777ddddbbbbbbffff..
            .........777776ddbbbbbbbcccc..
            .........777766..bbbbbbccccc..
            .........77766.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .2.2..........................
            ..66..........................
            ..266.........................
            ...d6.........................
            ...c6ccc.............666......
            ..bb6bbbc...........66677.....
            ..bb6bbbc..........666777.....
            ..66667bbc.......6667777......
            ..616667bc.....666777777......
            ..616667777dd7677777777.......
            ...6666777dd7777777777........
            ...666777dddddd77.............
            2.66....dddddddddd............
            .66......ddd7dddddd..cccfff...
            22........dd77dddddcccccffff..
            ...........777ddddbbbbbbffff..
            .........777776ddbbbbbbbcccc..
            .........777766..bbbbbbccccc..
            .........77766.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .2.2..........................
            ..66..........................
            ..266.........................
            ...d6.........................
            ...c6ccc......................
            ..bb6bbbc.....................
            ..bb6bbbc.............66......
            ..66667bbc.........666677.....
            ..616667bc......6666677777....
            ..616667777dd6666667777777....
            ...6666777dd7777777777........
            ...666777dddddd777............
            2.66....dddddddddd............
            .66......ddd7dddddd..cccff....
            22........dd77dddddcccccfff...
            ...........777ddddbbbbbbffff..
            ..........77777ddbbbbbbbcccc..
            ..........77776..bbbbbbccccc..
            ..........7776.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .2.2..........................
            ..66..........................
            ..266.........................
            ...d6.........................
            ...c6ccc......................
            ..bb6bbbc.....................
            ..bb6bbbc.....................
            ..66667bbc....................
            ..616667bc....................
            ..616667777dd666666666666.....
            ...6666777dd777777777777776...
            ...666777dddddd7777777777777..
            2.66....dddddddddd.....777777.
            .66......ddd7dddddd..cccff....
            22........dd77dddddcccccfff...
            ...........777ddddbbbbbbffff..
            ..........77777ddbbbbbbbcccc..
            ..........77776..bbbbbbccccc..
            ..........7776.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .2.2..........................
            ..66..........................
            ..266.........................
            ...d6.........................
            ...c6ccc......................
            ..bb6bbbc.....................
            ..bb6bbbc.....................
            ..66667bbc....................
            ..616667bc....................
            ..616667777dd666666666666.....
            ...6666777dd777777777777776...
            ...666777dddddd7777777777777..
            2.66....dddddddddd..777777777.
            .66......ddd7dddddd..cc77777..
            22........dd77dddddcccccfff...
            ...........777ddddbbbbbbffff..
            ..........77777ddbbbbbbbcccc..
            ..........77776..bbbbbbccccc..
            ..........7776.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .2.2..........................
            ..66..........................
            ..266.........................
            ...d6.........................
            ...c6ccc......................
            ..bb6bbbc.....................
            ..bb6bbbc.....................
            ..66667bbc....................
            ..616667bc....................
            ..616667777dd666666666666.....
            ...6666777dd777777777777776...
            ...666777dddddd7777777777777..
            2.66....dddddddddd.....777777.
            .66......ddd7dddddd..cccff....
            22........dd77dddddcccccfff...
            ...........777ddddbbbbbbffff..
            ..........77777ddbbbbbbbcccc..
            ..........77776..bbbbbbccccc..
            ..........7776.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `,img`
            ..............................
            ..............................
            .2.2..........................
            ..66..........................
            ..266.........................
            ...d6.........................
            ...c6ccc......................
            ..bb6bbbc.....................
            ..bb6bbbc.............66......
            ..66667bbc.........666677.....
            ..616667bc......6666677777....
            ..616667777dd6666667777777....
            ...6666777dd7777777777........
            ...666777dddddd777............
            2.66....dddddddddd............
            .66......ddd7dddddd..cccff....
            22........dd77dddddcccccfff...
            ...........777ddddbbbbbbffff..
            ..........77777ddbbbbbbbcccc..
            ..........77776..bbbbbbccccc..
            ..........7776.......bcccccc..
            .........................ccc..
            ..............................
            ..............................
            ..............................
            `],
        100,
        true
        )
        tiles.placeOnRandomTile(airbourne, assets.tile`myTile8`)
        tiles.setTileAt(value, assets.tile`transparency16`)
        statusbar2 = statusbars.create(20, 4, StatusBarKind.EnemyHealth)
        statusbar2.attachToSprite(airbourne)
    }
}
sprites.onOverlap(SpriteKind.Drone, SpriteKind.Player, function (sprite, otherSprite) {
    controller.moveSprite(otherSprite, 0, 0)
    if (character.matchesRule(otherSprite, character.rule(Predicate.FacingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.FacingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingRight))) {
        otherSprite.setVelocity(-200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    } else if (character.matchesRule(otherSprite, character.rule(Predicate.MovingLeft))) {
        otherSprite.setVelocity(200, -20)
        timer.after(400, function () {
            otherSprite.setVelocity(0, 0)
        })
    }
    timer.after(200, function () {
        controller.moveSprite(otherSprite, 120, 0)
    })
    if (armour.value == 0) {
        playerhealth.value += -5
    } else {
        armour.value += -2
    }
    scene.cameraShake(2, 500)
})
blockMenu.onMenuOptionSelected(function (option, index) {
    if (index == 0) {
        game.splash("Press W then S quickly")
    } else if (index == 1) {
        game.splash("Press W and Enter at the same time")
    } else if (index == 2) {
        game.splash("Jump onto a vertical surface.")
    }
    blockMenu.closeMenu()
    blockMenu.setControlsEnabled(false)
    controller.moveSprite(player1, 120, 0)
    color.clearFadeEffect()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile11`, function (sprite, location) {
    level += -1
    startlevel()
    spawncombat()
    spawndrone()
    spawnbolt()
    tiles.placeOnRandomTile(player1, assets.tile`myTile13`)
})
let statusbar2: StatusBarSprite = null
let airbourne: Sprite = null
let turret: Sprite = null
let projectile: Sprite = null
let boomza: Sprite = null
let armour: StatusBarSprite = null
let statusbar3: StatusBarSprite = null
let bolter: Sprite = null
let rocketbar: StatusBarSprite = null
let mag = 0
let statusbar: StatusBarSprite = null
let combat: Sprite = null
let shell: Sprite = null
let ammobar: StatusBarSprite = null
let ammo = 0
let playerhealth: StatusBarSprite = null
let player1: Sprite = null
let canshootrocket = false
let level = 0
let cooldown2 = 0
let canfirerocket = false
let cooldown1 = 0
let canfire = false
canfire = true
cooldown1 = 500
canfirerocket = true
cooldown2 = 1000
color.setColor(11, color.rgb(27, 27, 27))
color.setColor(12, color.rgb(42, 42, 42))
color.setColor(14, color.rgb(475, 475, 475))
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .........cccccccccccccc.......ccccccccccccccccc......ccccccccccc.......cccccc......cccccc...ccccccccc....ccccccccccccccccc...cccccc..........cccccc.............
    ......cccccccccccccccccccc.cccccccccccccccccccccc..ccccccccccccccc..ccccccccccc.cccccccccccccccccccccccccccccccccccccccccccccccccccccc.....ccccccccccc..........
    .....cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc...ccccccccccccc.........
    .....cccbbbbbbbcbbbbbbbbcccccbbbbbbbcbbbbbbbbbbccccccbbbbbcbbbbbccccccbbbbbbccccccbbbbbbcccbbbbbbbbbbbccbbbbbbbbbbbbbbbbbcccbbbbbbbccccccccccbbbbbbcccccc.......
    .....cccd111111d11111111bccccd111111d1111111111ccccc111111d111111ccccb111111dccccb111111bcc1111111111dcc111111d1111111111bcc1111111dccccccccb111111bcccbcc......
    .....cccd111111d111111111bcccd111111d1111111111cccc1111111d1111111cccb111111dccccb111111bcc1111111111dcc111111d1111111111bccd1111111bccccccbd111111bcccbbcc.....
    .....cccd111111d1111111111bccd111111d1111111111ccc11111111d11111111ccb111111dccccb111111bcc1111111111dcc111111d1111111111bcc11111111dcccccb1d111111bcccdbcc.....
    .....cccd111111b11111111111ccd111111b1111111111cc111111111b11111111dcb111111dccccb111111bcc1111111111dcc111111dd111111111bcc111111111bccccd1d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111bcccb111111cc1111111ccccc111111dcb111111dccccb111111bcccb1111111bccc111111dcccc111111bcc1111111111cccb11d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111bcccbddddddcc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dccccddddddbcc1111111111dcc111d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111bcccccccccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dccccccccccccc11111111111bd111d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111111111ccccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111bccccd111111ccd111111111111bcccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111b11111111111ccd111111111111bcccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111d1111111111bccd111111111111bcccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111111111dccccccc1111111111111111d111111bcccdbbc.....
    .....cccd111111d111111111bcccd111111bbbbbbccccccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dbbbbbcccccccc111111d111111111d111111bcccdbbc.....
    .....cccd111111d1111ddb1dccccd111111bccccbbbbbccc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dccccbbbbbbccc111111bd1111111bb111111bcccdbbc.....
    .....cccd111111bbb1111111ccccd111111bccc1111111cc1111111ccccc111111dcb111111dccccb111111bcccc111111dcccc111111dcccb111111bcc111111bb111111dcb111111bcccdbbc.....
    .....cccd111111bccd111111dcccd111111bbbb1111111cc1111111bbbbb111111dcb111111dbbbbd111111bccbd1111111dbcc111111dbbbd111111bcc111111bcd11111bcb111111bcccdbbc.....
    .....cccd111111bccb1111111bccd111111d1111111111ccd11111111111111111bcc111111111d11111111bcc1111111111dcc111111d1111111111bcc111111bcc1111dccb111111bcccdbbc.....
    .....cccd111111bcccd111111dccd111111d1111111111cccd111111111111111dcccc11111111d1111111bccc1111111111dcc111111d1111111111bcc111111bccb111cccb111111bcccdbbc.....
    .....cccd111111bcccb1111111bcd111111d1111111111ccccd1111111111111dcccccc1111111d111111bcccc1111111111dcc111111d1111111111bcc111111bccc11bcccb111111bcccdbbc.....
    .....cccd111111cccccd111111dcd111111b1111111111cccccd11111111111dcccccccc11111dd11111bccccc1111111111dcc111111d1111111111bcc111111bcccb1ccccb111111bcccdbbc.....
    .....ccccccccccccccccccccccccccccccccccccccccccccccccccccc11111111cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccdbbc.....
    .....ccccccccccccccccccccccccccccccccccccccccccccccccccccccd1111111cccbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccdbbc.....
    ......cccccccccccbcccccccccccccccccccccccccccccccbbcccccccccd11111bcccbbcccccccccccccccbdcccccccccccccccccccccccccccccccccccccccccccccccccbcccccccccccddbbc.....
    .......ccccccccbdddbbccccccbbccccccccccccccccccbddbbbccccccccd111bccccdbbbcccccccccccbddddbccccccccccbbbccccccccccccccccccbbccccccbbddbbbdddbccccccbbdddbcc.....
    ........cbbddddddddbbbbdddddbbbbdddddddddddddddddbbbbbbddcccccd1bccccbddbbbbdddddddddddddbbbbbdddddddddbbbbddddddddddddddddbbbbddddddddbbbdbbbbddddddddbbcc.....
    ........ccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcccbbbbcccccbccccbddbbbcbbbbbbbbbbbbbbbcccbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbcc......
    .........cccccccccccccccccccccccccccccccccccccccccccccccccbccccccccbdddbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc.......
    ...........ccccccc......cccc....cccccccccccccccccc......ccccccccccbdddbbcc...ccccccccccc......ccccccccc....cccccccccccccccc....ccccccc..........ccccccc.........
    ............................................................ccccbbdddbbcc.......................................................................................
    .............................................................ccbbddbbbcc........................................................................................
    ..............................................................ccbbbbccc.........................................................................................
    ...............................................................ccccccc..........................................................................................
    ..................................................................c.............................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
pause(2000)
scene.setBackgroundColor(3)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
multilights.toggleLighting(false)
level = 0
canshootrocket = false
spawnplayer1()
shield2()
ammo_bar()
rocket_bar()
startlevel()
spawncombat()
spawndrone()
spawnbolt()
game.onUpdate(function () {
    for (let value of sprites.allOfKind(SpriteKind.combatform)) {
        if (value.vx > 1) {
            value.setImage(img`
                .........................
                .........22..............
                .........662.............
                .........266.............
                ...........6..77777......
                ...........676666677.....
                ...........676766667.....
                ...........767788867.....
                ..........78668818867....
                .........767766818877....
                .........77766681866.....
                .......dd786668888866.22.
                ......dddd8866668867.666.
                .....6dddd6866676667..222
                ...6677dddd88667777......
                ...6777dddd666767........
                ..6777.dd7dd77777........
                ..677..dd77dd7.67........
                .6777..dd777dd.67........
                .6777..dddd7dd.67........
                .6777..ddddddd.677.......
                .6777..ddddbbb.6677777...
                .6777.dddbbbbbb..667777..
                .6777.bbbbbbb7b....6777..
                .67..bbbbb.bb7bb6...6777.
                .....bbbb...bb7b76...677.
                .....bb77...bbbb776..677.
                ....7777.....bbb.776677..
                ....cccc.....ccc..77777..
                ....ccc......cccc........
                ....ccc......cccc........
                ....cccc.....ccccc.......
                ....ffff.....fffff.......
                `)
        } else if (value.vx < -1) {
            value.setImage(img`
                .........................
                ..............22.........
                .............266.........
                .............662.........
                ......77777..6...........
                .....776666676...........
                .....766667676...........
                .....768887767...........
                ....76881886687..........
                ....778818667767.........
                .....66818666777.........
                .22.668888866687dd.......
                .666.7688666688dddd......
                222..7666766686dddd6.....
                ......77776688dddd7766...
                ........767666dddd7776...
                ........77777dd7dd.7776..
                ........76.7dd77dd..776..
                ........76.dd777dd..7776.
                ........76.dd7dddd..7776.
                .......776.ddddddd..7776.
                ...7777766.bbbdddd..7776.
                ..777766..bbbbbbddd.7776.
                ..7776....b7bbbbbbb.7776.
                .7776...6bb7bb.bbbbb..76.
                .776...67b7bb...bbbb.....
                .776..677bbbb...77bb.....
                ..776677.bbb.....7777....
                ..77777..ccc.....cccc....
                ........cccc......ccc....
                ........cccc......ccc....
                .......ccccc.....cccc....
                .......fffff.....ffff....
                `)
        }
        if (sight.isInSight(
        value,
        player1,
        80,
        false
        )) {
            value.follow(player1, 50)
        } else {
            value.follow(player1, 0)
        }
    }
    for (let value of sprites.allOfKind(SpriteKind.Drone)) {
        if (value.vx > 1) {
            animation.runImageAnimation(
            value,
            [img`
                ..............................
                ..............................
                ..........................2.2.
                .......6..................66..
                .....7.66................662..
                .....77666...............6d...
                .....777666...........ccc6c...
                .....7777766.........cbbb6bb..
                .....77777766........cbbb6bb..
                ......777777766.....cbb76666..
                ......77777777766...cb766616..
                .......7777777777dd777766616..
                ........77..777777dd7776666...
                .............77dddddd777666...
                ............dddddddddd....66.2
                ...fffcc...dddddd7ddd......66.
                ..ffffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd77777..........
                ..cccccbbbbbb..67777..........
                ..ccccccb.......6777..........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                ..........................2.2.
                ..........................66..
                ......6..................662..
                .....766.................6d...
                .....7766.............ccc6c...
                .....77766...........cbbb6bb..
                .....777766..........cbbb6bb..
                ......7777766.......cbb76666..
                ......777777766.....cb766616..
                .......7777777767dd777766616..
                ........77..777777dd7776666...
                .............77dddddd777666...
                ............dddddddddd....66.2
                ....ffccc..dddddd7ddd......66.
                ...fffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd677777.........
                ..cccccbbbbbb..667777.........
                ..ccccccb.......66777.........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                ..........................2.2.
                ..........................66..
                .........................662..
                .........................6d...
                ......666.............ccc6c...
                .....77666...........cbbb6bb..
                .....777666..........cbbb6bb..
                ......7777666.......cbb76666..
                ......777777666.....cb766616..
                .......7777777767dd777766616..
                ........7777777777dd7776666...
                .............77dddddd777666...
                ............dddddddddd....66.2
                ...fffccc..dddddd7ddd......66.
                ..ffffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd677777.........
                ..cccccbbbbbb..667777.........
                ..ccccccb.......66777.........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                ..........................2.2.
                ..........................66..
                .........................662..
                .........................6d...
                ......................ccc6c...
                .....................cbbb6bb..
                ......66.............cbbb6bb..
                .....776666.........cbb76666..
                ....7777766666......cb766616..
                ....7777777666666dd777766616..
                ........7777777777dd7776666...
                ............777dddddd777666...
                ............dddddddddd....66.2
                ....ffccc..dddddd7ddd......66.
                ...fffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd77777..........
                ..cccccbbbbbb..67777..........
                ..ccccccb.......6777..........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                ..........................2.2.
                ..........................66..
                .........................662..
                .........................6d...
                ......................ccc6c...
                .....................cbbb6bb..
                .....................cbbb6bb..
                ....................cbb76666..
                ....................cb766616..
                .....666666666666dd777766616..
                ...677777777777777dd7776666...
                ..7777777777777dddddd777666...
                .777777.....dddddddddd....66.2
                ....ffccc..dddddd7ddd......66.
                ...fffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd77777..........
                ..cccccbbbbbb..67777..........
                ..ccccccb.......6777..........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                ..........................2.2.
                ..........................66..
                .........................662..
                .........................6d...
                ......................ccc6c...
                .....................cbbb6bb..
                .....................cbbb6bb..
                ....................cbb76666..
                ....................cb766616..
                .....666666666666dd777766616..
                ...677777777777777dd7776666...
                ..7777777777777dddddd777666...
                .777777777..dddddddddd....66.2
                ..77777cc..dddddd7ddd......66.
                ...fffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd77777..........
                ..cccccbbbbbb..67777..........
                ..ccccccb.......6777..........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                ..........................2.2.
                ..........................66..
                .........................662..
                .........................6d...
                ......................ccc6c...
                .....................cbbb6bb..
                .....................cbbb6bb..
                ....................cbb76666..
                ....................cb766616..
                .....666666666666dd777766616..
                ...677777777777777dd7776666...
                ..7777777777777dddddd777666...
                .777777.....dddddddddd....66.2
                ....ffccc..dddddd7ddd......66.
                ...fffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd77777..........
                ..cccccbbbbbb..67777..........
                ..ccccccb.......6777..........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                ..........................2.2.
                ..........................66..
                .........................662..
                .........................6d...
                ......................ccc6c...
                .....................cbbb6bb..
                ......66.............cbbb6bb..
                .....776666.........cbb76666..
                ....7777766666......cb766616..
                ....7777777666666dd777766616..
                ........7777777777dd7776666...
                ............777dddddd777666...
                ............dddddddddd....66.2
                ....ffccc..dddddd7ddd......66.
                ...fffcccccddddd77dd........22
                ..ffffbbbbbbdddd777...........
                ..ccccbbbbbbbdd77777..........
                ..cccccbbbbbb..67777..........
                ..ccccccb.......6777..........
                ..ccc.........................
                ..............................
                ..............................
                ..............................
                `],
            100,
            true
            )
        } else if (value.vx < -1) {
            animation.runImageAnimation(
            value,
            [img`
                ..............................
                ..............................
                .2.2..........................
                ..66..................6.......
                ..266................66.7.....
                ...d6...............66677.....
                ...c6ccc...........666777.....
                ..bb6bbbc.........6677777.....
                ..bb6bbbc........66777777.....
                ..66667bbc.....667777777......
                ..616667bc...66777777777......
                ..616667777dd7777777777.......
                ...6666777dd777777..77........
                ...666777dddddd77.............
                2.66....dddddddddd............
                .66......ddd7dddddd...ccfff...
                22........dd77dddddcccccffff..
                ...........777ddddbbbbbbffff..
                ..........77777ddbbbbbbbcccc..
                ..........77776..bbbbbbccccc..
                ..........7776.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                .2.2..........................
                ..66..........................
                ..266..................6......
                ...d6.................667.....
                ...c6ccc.............6677.....
                ..bb6bbbc...........66777.....
                ..bb6bbbc..........667777.....
                ..66667bbc.......6677777......
                ..616667bc.....667777777......
                ..616667777dd7677777777.......
                ...6666777dd777777..77........
                ...666777dddddd77.............
                2.66....dddddddddd............
                .66......ddd7dddddd..cccff....
                22........dd77dddddcccccfff...
                ...........777ddddbbbbbbffff..
                .........777776ddbbbbbbbcccc..
                .........777766..bbbbbbccccc..
                .........77766.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                .2.2..........................
                ..66..........................
                ..266.........................
                ...d6.........................
                ...c6ccc.............666......
                ..bb6bbbc...........66677.....
                ..bb6bbbc..........666777.....
                ..66667bbc.......6667777......
                ..616667bc.....666777777......
                ..616667777dd7677777777.......
                ...6666777dd7777777777........
                ...666777dddddd77.............
                2.66....dddddddddd............
                .66......ddd7dddddd..cccfff...
                22........dd77dddddcccccffff..
                ...........777ddddbbbbbbffff..
                .........777776ddbbbbbbbcccc..
                .........777766..bbbbbbccccc..
                .........77766.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                .2.2..........................
                ..66..........................
                ..266.........................
                ...d6.........................
                ...c6ccc......................
                ..bb6bbbc.....................
                ..bb6bbbc.............66......
                ..66667bbc.........666677.....
                ..616667bc......6666677777....
                ..616667777dd6666667777777....
                ...6666777dd7777777777........
                ...666777dddddd777............
                2.66....dddddddddd............
                .66......ddd7dddddd..cccff....
                22........dd77dddddcccccfff...
                ...........777ddddbbbbbbffff..
                ..........77777ddbbbbbbbcccc..
                ..........77776..bbbbbbccccc..
                ..........7776.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                .2.2..........................
                ..66..........................
                ..266.........................
                ...d6.........................
                ...c6ccc......................
                ..bb6bbbc.....................
                ..bb6bbbc.....................
                ..66667bbc....................
                ..616667bc....................
                ..616667777dd666666666666.....
                ...6666777dd777777777777776...
                ...666777dddddd7777777777777..
                2.66....dddddddddd.....777777.
                .66......ddd7dddddd..cccff....
                22........dd77dddddcccccfff...
                ...........777ddddbbbbbbffff..
                ..........77777ddbbbbbbbcccc..
                ..........77776..bbbbbbccccc..
                ..........7776.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                .2.2..........................
                ..66..........................
                ..266.........................
                ...d6.........................
                ...c6ccc......................
                ..bb6bbbc.....................
                ..bb6bbbc.....................
                ..66667bbc....................
                ..616667bc....................
                ..616667777dd666666666666.....
                ...6666777dd777777777777776...
                ...666777dddddd7777777777777..
                2.66....dddddddddd..777777777.
                .66......ddd7dddddd..cc77777..
                22........dd77dddddcccccfff...
                ...........777ddddbbbbbbffff..
                ..........77777ddbbbbbbbcccc..
                ..........77776..bbbbbbccccc..
                ..........7776.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                .2.2..........................
                ..66..........................
                ..266.........................
                ...d6.........................
                ...c6ccc......................
                ..bb6bbbc.....................
                ..bb6bbbc.....................
                ..66667bbc....................
                ..616667bc....................
                ..616667777dd666666666666.....
                ...6666777dd777777777777776...
                ...666777dddddd7777777777777..
                2.66....dddddddddd.....777777.
                .66......ddd7dddddd..cccff....
                22........dd77dddddcccccfff...
                ...........777ddddbbbbbbffff..
                ..........77777ddbbbbbbbcccc..
                ..........77776..bbbbbbccccc..
                ..........7776.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `,img`
                ..............................
                ..............................
                .2.2..........................
                ..66..........................
                ..266.........................
                ...d6.........................
                ...c6ccc......................
                ..bb6bbbc.....................
                ..bb6bbbc.............66......
                ..66667bbc.........666677.....
                ..616667bc......6666677777....
                ..616667777dd6666667777777....
                ...6666777dd7777777777........
                ...666777dddddd777............
                2.66....dddddddddd............
                .66......ddd7dddddd..cccff....
                22........dd77dddddcccccfff...
                ...........777ddddbbbbbbffff..
                ..........77777ddbbbbbbbcccc..
                ..........77776..bbbbbbccccc..
                ..........7776.......bcccccc..
                .........................ccc..
                ..............................
                ..............................
                ..............................
                `],
            100,
            true
            )
        }
        if (sight.isInSight(
        value,
        player1,
        200,
        false
        )) {
            value.follow(player1, 80)
        } else {
            value.follow(player1, 0)
        }
    }
    for (let value of sprites.allOfKind(SpriteKind.Bolt)) {
        if (value.vx > 1) {
            value.setImage(img`
                .....................................
                .........................22..........
                ..........................66.........
                .......................77277677......
                ..............bbbbb777bbbb7776667....
                ............bbbbbb777bbbbb7776666....
                .........bbbbbbbbb77bbbbb667766166...
                ........bbbbbbbbbb77bbbbb667766166...
                ........ccbb7bbbbb7bbbb76677766167...
                .......ccccb77bbbbbbbbb66.7777666....
                .....ccccccbb77bbbbbbbb7........666..
                ...cccccccccbb77b.bbbbb77.........66.
                ..ccccccccccb.....cbbb7777.........62
                .ccccccccfff.......67777777.......2.2
                ccccccfffff.........667777777........
                cccccffff............666777777.......
                `)
        } else if (value.vx < -1) {
            value.setImage(img`
                .....................................
                ..........22.........................
                .........66..........................
                ......77677277.......................
                ....7666777bbbb777bbbbb..............
                ....6666777bbbbb777bbbbbb............
                ...661667766bbbbb77bbbbbbbbb.........
                ...661667766bbbbb77bbbbbbbbbb........
                ...76166777667bbbb7bbbbb7bbcc........
                ....6667777.66bbbbbbbbb77bcccc.......
                ..666........7bbbbbbbb77bbcccccc.....
                .66.........77bbbbb.b77bbccccccccc...
                26.........7777bbbc.....bcccccccccc..
                2.2.......77777776.......fffcccccccc.
                ........777777766.........fffffcccccc
                .......777777666............ffffccccc
                `)
        }
        if (sight.isInSight(
        value,
        player1,
        200,
        false
        )) {
            value.follow(player1, 100)
        } else {
            value.follow(player1, 0)
        }
    }
})
game.onUpdate(function () {
    if ((player1.isHittingTile(CollisionDirection.Left) || player1.isHittingTile(CollisionDirection.Right)) && player1.vy >= 0) {
        player1.vy = 0
        player1.ay = 0
        if (character.matchesRule(player1, character.rule(Predicate.HittingWallRight))) {
            player1.setImage(img`
                ...................
                ...................
                ...................
                ...................
                ...................
                ........c44444.....
                .......c45e111.....
                ......f54e1111.....
                ......ff4e5515.....
                .......cc4e151.....
                ........cc444c.....
                ......1bfcccff...bc
                .....bb1bdccfffcbfc
                ....1bbb1ffddffffff
                ....b1bbffffffffff.
                .....b1ccbccfff..ff
                .....cccbbcddff....
                ......cbbbcddc.....
                .......cdddddc.....
                .......ccd5dcc.....
                .......5ccccc5.....
                .......bbbbbbb.....
                ......fdddbbdd.....
                ......fddccccd.....
                ......fd5c.cc5.....
                .......ccc.ccc.....
                .......bbf.bbf.....
                .......bbfbbf......
                .......bbbbbb......
                .......cccccc......
                `)
        } else if (character.matchesRule(player1, character.rule(Predicate.HittingWallLeft))) {
            player1.setImage(img`
                ...................
                ...................
                ...................
                ...................
                ...................
                .....44444c........
                .....111e54c.......
                .....1111e45f......
                .....5155e4ff......
                .....151e4cc.......
                .....c444cc........
                cb...ffcccfb1......
                cfbcfffccdb1bb.....
                ffffffddff1bbb1....
                .ffffffffffbb1b....
                ff..fffccbcc1b.....
                ....ffddcbbccc.....
                .....cddcbbbc......
                .....cdddddc.......
                .....ccd5dcc.......
                .....5ccccc5.......
                .....bbbbbbb.......
                .....ddbbdddf......
                .....dccccddf......
                .....5cc.c5df......
                .....ccc.ccc.......
                .....fbb.fbb.......
                ......fbbfbb.......
                ......bbbbbb.......
                ......cccccc.......
                `)
        }
        timer.after(1000, function () {
            player1.ay = 500
        })
    } else {
        player1.ay = 500
    }
    if (canshootrocket == false) {
        rocketbar.setFlag(SpriteFlag.Invisible, true)
    } else {
        rocketbar.setFlag(SpriteFlag.Invisible, false)
    }
})
game.onUpdateInterval(5000, function () {
	
})
game.onUpdateInterval(3000, function () {
    if (armour.value > -500) {
        armour.value += 20
    } else {
        armour.value += 0
    }
})
